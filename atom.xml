<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  
  <title><![CDATA[秋儿]]></title>
  <subtitle><![CDATA[iOS 开发]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://yoursite.com//"/>
  <updated>2016-01-08T09:36:36.000Z</updated>
  <id>http://yoursite.com//</id>
  
  <author>
    <name><![CDATA[秋儿]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Storyboard复杂 UI 处理汇总]]></title>
    <link href="http://yoursite.com/2016/01/08/Storyboard%E5%A4%8D%E6%9D%82-UI-%E5%A4%84%E7%90%86%E6%B1%87%E6%80%BB/"/>
    <id>http://yoursite.com/2016/01/08/Storyboard复杂-UI-处理汇总/</id>
    <published>2016-01-08T08:47:21.000Z</published>
    <updated>2016-01-08T09:36:36.000Z</updated>
    <content type="html"><![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br><br>当我们在用 Storyboard 设计一些复杂的 UI 时，总觉得不是很好处理，约束不太容易正确添加。以下是我在这方面遇到的一些问题及找到的处理方法：</p>
<h3 id="u5728UIScrollView_u4E2D_u5D4C_u5957_u591A_u4E2ATableView_3A"><a href="#u5728UIScrollView_u4E2D_u5D4C_u5957_u591A_u4E2ATableView_3A" class="headerlink" title="在UIScrollView中嵌套多个TableView:"></a>在UIScrollView中嵌套多个TableView:</h3><p><a href="http://www.jianshu.com/p/bad9bde9b81e" target="_blank" rel="external">http://www.jianshu.com/p/bad9bde9b81e</a><br>文中 demo 是基于 Swift 语言做的（还好我刚把 Swift 语法看完，能看懂 demo.😉）</p>
<a id="more"></a>
<p><br></p>
<font color="brown"><strong>对其补充：</strong></font>

<p>若是页面需要导航栏，第一次进入页面时，第一个 table 会下陷64个像素，上下滑动列表后，回到导航条下面的位置。而第二个table 从最上面向下拉时，scorllview 显示偏移 x = 0 的的位置。<br>在代码中添加以下代码，可解决这些问题<br><br></p>
<font color="green"><strong>解决方案：</strong></font>

<pre><code>self.edgesForExtendedLayout = UIRectEdgeNone
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br><br>当我们在用 Storyboard 设计一些复杂的 UI 时，总觉得不是很好处理，约束不太容易正确添加。以下是我在这方面遇到的一些问题及找到的处理方法：</p>
<h3 id="u5728UIScrollView_u4E2D_u5D4C_u5957_u591A_u4E2ATableView_3A"><a href="#u5728UIScrollView_u4E2D_u5D4C_u5957_u591A_u4E2ATableView_3A" class="headerlink" title="在UIScrollView中嵌套多个TableView:"></a>在UIScrollView中嵌套多个TableView:</h3><p><a href="http://www.jianshu.com/p/bad9bde9b81e">http://www.jianshu.com/p/bad9bde9b81e</a><br>文中 demo 是基于 Swift 语言做的（还好我刚把 Swift 语法看完，能看懂 demo.😉）</p>]]>
    
    </summary>
    
      <category term="Storyboard" scheme="http://yoursite.com/tags/Storyboard/"/>
    
      <category term="UIScrollView" scheme="http://yoursite.com/tags/UIScrollView/"/>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[2016年计划]]></title>
    <link href="http://yoursite.com/2015/12/23/2016%E5%B9%B4%E8%AE%A1%E5%88%92/"/>
    <id>http://yoursite.com/2015/12/23/2016年计划/</id>
    <published>2015-12-23T04:13:56.000Z</published>
    <updated>2016-01-08T09:36:11.000Z</updated>
    <content type="html"><![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br></p>
<h3 id="u77E5_u8BC6_uFF1A"><a href="#u77E5_u8BC6_uFF1A" class="headerlink" title="知识："></a>知识：</h3><ul>
<li>金融 </li>
<li>理财</li>
</ul>
<h3 id="u6280_u672F"><a href="#u6280_u672F" class="headerlink" title="技术"></a>技术</h3><ul>
<li>继续写文章</li>
<li>Swift</li>
<li>Python，学习运维知识</li>
<li>手表开发（Watch OS，Swift）</li>
<li>研究 OC 底层和 Swift 底层。</li>
</ul>
<a id="more"></a>
<h3 id="u8BFB_u4E66"><a href="#u8BFB_u4E66" class="headerlink" title="读书"></a>读书</h3><p>至少每月2本书：2 * 12 = 24，每本书都要写读后感，总结</p>
<ul>
<li>手中的4本技术书</li>
<li>每个月去一次图书馆，一次借2本书</li>
</ul>
<h3 id="u4EA4_u53CB"><a href="#u4EA4_u53CB" class="headerlink" title="交友"></a>交友</h3><p>至少一位知心朋友</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br></p>
<h3 id="u77E5_u8BC6_uFF1A"><a href="#u77E5_u8BC6_uFF1A" class="headerlink" title="知识："></a>知识：</h3><ul>
<li>金融 </li>
<li>理财</li>
</ul>
<h3 id="u6280_u672F"><a href="#u6280_u672F" class="headerlink" title="技术"></a>技术</h3><ul>
<li>继续写文章</li>
<li>Swift</li>
<li>Python，学习运维知识</li>
<li>手表开发（Watch OS，Swift）</li>
<li>研究 OC 底层和 Swift 底层。</li>
</ul>]]>
    
    </summary>
    
      <category term="计划" scheme="http://yoursite.com/tags/%E8%AE%A1%E5%88%92/"/>
    
      <category term="个人" scheme="http://yoursite.com/categories/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[2015年总结]]></title>
    <link href="http://yoursite.com/2015/12/23/2015%E5%B9%B4%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2015/12/23/2015年总结/</id>
    <published>2015-12-23T04:09:53.000Z</published>
    <updated>2016-01-08T09:36:07.000Z</updated>
    <content type="html"><![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br><br><code>人生天地之间,若白驹之过郤(隙),忽然而已.————《庄子·知北游》</code></p>
<p><br><br>光阴似箭，日月如梭，转眼间2015年仅剩几个日夜。</p>
<p>从12年11月29号开始接触 iOS 开发，到现在也3年时间了。一直浑浑噩噩的过着上班工作，下班休息，既无总结也无规划的日子。最近突然间想写写自己在15年做了些什么，学到了些什么，并计划下下一年度的任务和目标。</p>
<a id="more"></a>
<h3 id="u5DE5_u4F5C"><a href="#u5DE5_u4F5C" class="headerlink" title="工作"></a>工作</h3><p>14年12月1号进入了一家关于生活美学指南的电商公司（下文的公司 A），一直维护一份之前的开发人员在12年写的代码。项目对体验要求比较高（然而这并未提升我个人的审美标准 ಥ_ಥ），UI 设计师对做出的效果很上心，不容差错一个像素，但不可不说其设计的效果是非常棒的。</p>
<p>在A公司工作，了解到了电商 app 的特色和注意事项，如：</p>
<ul>
<li>库存的计算是比较麻烦的，尤其是对于那些有多个颜色，多个尺寸的商品。</li>
<li>购物车中商品可能有多个状态，有无库存，参不参加满减的活动。</li>
<li>下完订单后支付后状态可能由于各种原因(尤其是与第三方支付平台的对接)造成显示不正确</li>
</ul>
<p>当然，最复杂的逻辑还是在后台，客户端展示不出异常就OK了</p>
<p>15年8月份的时候跳槽至现在所在的这家互联网金融公司 (下文的公司 B)，当时对金融也是比较感兴趣的，希望能进入到互联网金融工作，所以，对这份 offer 很满意（虽然薪资不是很高-_-）。</p>
<p>在 B公司，开始也是维护前辈写的项目，做的功能不多，新加了指纹解锁功能和部分日夜模式切换的功能。</p>
<p>9月份的时候开始做新项目。新项目是团队协作，与以往不一样，之前做新项目，都是自己一个人做；新项目，采用了比较简便的可视化布局Srotyboard，之前做项目，一直是代码写 UI。慢慢的学会了用可视化布局 UI,并且可是很熟练的使用约束，无需写代码就可以控制控件的相对位置，适配不同尺寸的屏幕，这对自己来说真真的是很大进步。这当然离不开我的好同事们（给他们一个大大的赞~_~）。</p>
<p>B公司的项目都是金融方面相关的，这令我我学到了不少金融方面的知识，如：学会了看K线图的行情，并了解它是如何实现（K线相关的都是前同事做的，我只是做了迁移，站在巨人的肩膀上）。</p>
<h3 id="u4E2A_u4EBA_u53D1_u5C55"><a href="#u4E2A_u4EBA_u53D1_u5C55" class="headerlink" title="个人发展"></a>个人发展</h3><p>15年其实没看多少书，由于在考项目管理本科，也只是看了考试相关的几本。14年6月开始准备同年10月份考试，学习了：项目采购和合同，项目管理软技术；15年4月考试，学习了：项目时间管理，项目成本管理，企业项目管理，项目管理学；15年10月考试，学习了：项目风险管理，项目范围管理，中国近代史</p>
<p>技术方面的书，看了唐巧的《iOS开发进阶》的 pdf 版。以前也不怎么看纸质版的书，买了有3，4本的iOS 开发相关的书，基本没怎么认真的翻阅过。故打算在16年先把手里有的书本从头到尾翻阅一遍。</p>
<p>15年9月开始写文章，记录自己在工作过程中的一些问题和解决过程。</p>
<h3 id="u56DE_u987E_u603B_u7ED3"><a href="#u56DE_u987E_u603B_u7ED3" class="headerlink" title="回顾总结"></a>回顾总结</h3><p>工作这些年，也没怎么好好的总结过，现在回顾下，感觉自己只是白白添了岁数，浪费了一年又的光阴。所以，计划16年多读点书，多学点技术，顺便要改变下自己的性格，至少交一位知心的朋友。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br><br><code>人生天地之间,若白驹之过郤(隙),忽然而已.————《庄子·知北游》</code></p>
<p><br><br>光阴似箭，日月如梭，转眼间2015年仅剩几个日夜。</p>
<p>从12年11月29号开始接触 iOS 开发，到现在也3年时间了。一直浑浑噩噩的过着上班工作，下班休息，既无总结也无规划的日子。最近突然间想写写自己在15年做了些什么，学到了些什么，并计划下下一年度的任务和目标。</p>]]>
    
    </summary>
    
      <category term="总结" scheme="http://yoursite.com/tags/%E6%80%BB%E7%BB%93/"/>
    
      <category term="个人" scheme="http://yoursite.com/categories/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[使用 hexo 搭建博客]]></title>
    <link href="http://yoursite.com/2015/12/23/%E4%BD%BF%E7%94%A8-hexo-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2015/12/23/使用-hexo-搭建博客/</id>
    <published>2015-12-23T03:39:45.000Z</published>
    <updated>2016-01-08T09:36:17.000Z</updated>
    <content type="html"><![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br></p>
<h4 id="u914D_u7F6E_u73AF_u5883"><a href="#u914D_u7F6E_u73AF_u5883" class="headerlink" title="配置环境"></a>配置环境</h4><p> 安装 homebrew：</p>
<pre><code>ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
</code></pre><p>安装node.js：</p>
<pre><code>brew install node
</code></pre><p>安装 hexo:</p>
<pre><code>npm install hexo -g
</code></pre><a id="more"></a>
<p>执行init命令初始化hexo到你指定的目录</p>
<pre><code>hexo init &lt;folder&gt;
</code></pre><p>进入文件夹</p>
<pre><code>cd &lt;folder&gt;
</code></pre><p>然后运行</p>
<pre><code>npm install //这句应该用不到
</code></pre><p>自动根据当前目录下文件,生成静态网页</p>
<pre><code>hexo generate
</code></pre><p>运行本地服务</p>
<pre><code>hexo server 
</code></pre><p>Done！<br><a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a></p>
<p>//停止本地服务：Press Ctrl+C to stop</p>
<p><br></p>
<h4 id="u6DFB_u52A0_u6587_u7AE0"><a href="#u6DFB_u52A0_u6587_u7AE0" class="headerlink" title="添加文章"></a>添加文章</h4><p>创建文章文件名</p>
<pre><code>hexo new &quot;&quot;
</code></pre><p>生成静态网页</p>
<pre><code>hexo generate
</code></pre><p>运行本地服务</p>
<pre><code>hexo server
</code></pre><h3 id="u90E8_u7F72_u5230_Github"><a href="#u90E8_u7F72_u5230_Github" class="headerlink" title="部署到 Github"></a>部署到 Github</h3><p>这篇文章很详细<br><a href="http://jingyan.baidu.com/article/d8072ac47aca0fec95cefd2d.html" target="_blank" rel="external">http://jingyan.baidu.com/article/d8072ac47aca0fec95cefd2d.html</a></p>
<h6 id="u5173_u952E_u5DE5_u4F5C"><a href="#u5173_u952E_u5DE5_u4F5C" class="headerlink" title="关键工作"></a>关键工作</h6><p>配置 _config.yml 文件</p>
<pre><code>deploy:
 type: git
 repository: https://github.com/XXXXXX/XXXXXX.github.io.git
 branch: master
</code></pre><p>生成网页</p>
<pre><code>hexo generate
</code></pre><p>部署</p>
<pre><code>hexo deploy
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br></p>
<h4 id="u914D_u7F6E_u73AF_u5883"><a href="#u914D_u7F6E_u73AF_u5883" class="headerlink" title="配置环境"></a>配置环境</h4><p> 安装 homebrew：</p>
<pre><code>ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
</code></pre><p>安装node.js：</p>
<pre><code>brew install node
</code></pre><p>安装 hexo:</p>
<pre><code>npm install hexo -g
</code></pre>]]>
    
    </summary>
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
      <category term="教程" scheme="http://yoursite.com/categories/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello World]]></title>
    <link href="http://yoursite.com/2015/12/23/hello-world/"/>
    <id>http://yoursite.com/2015/12/23/hello-world/</id>
    <published>2015-12-23T03:13:33.000Z</published>
    <updated>2015-12-25T02:32:14.000Z</updated>
    <content type="html"><![CDATA[<p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<a id="more"></a>
<h2 id="Quick_Start"><a href="#Quick_Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create_a_new_post"><a href="#Create_a_new_post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server"><a href="#Run_server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files"><a href="#Generate_static_files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites"><a href="#Deploy_to_remote_sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Welcome to <a href="http://hexo.io/">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>]]>
    
    </summary>
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
      <category term="教程" scheme="http://yoursite.com/categories/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[NSLayoutConstraint 的妙用(贵金属）]]></title>
    <link href="http://yoursite.com/2015/12/22/NSLayoutConstraint-%E7%9A%84%E5%A6%99%E7%94%A8-%E8%B4%B5%E9%87%91%E5%B1%9E%EF%BC%89/"/>
    <id>http://yoursite.com/2015/12/22/NSLayoutConstraint-的妙用-贵金属）/</id>
    <published>2015-12-22T04:01:35.000Z</published>
    <updated>2016-01-08T09:36:32.000Z</updated>
    <content type="html"><![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br></p>
<p>贵金属项目，是第一次使用 storyboard 开发，以下是初次接触 NSLayoutConstraint，遇到的问题：</p>
<a id="more"></a>
<h4 id="u95EE_u98981_uFF1A"><a href="#u95EE_u98981_uFF1A" class="headerlink" title="问题1："></a>问题1：</h4><p>用 storyboard 搭建的 UI，在 tableView 的 header 中的控件的高度是不固定的，条件1下控件高90，条件2下控件高45,所以就考虑用代码控制控件的高度。</p>
<p>在用代码设置了控件的高度和 header 的高度后，发现效果并非如预期所想。在 storyboard 里面设置了90，在代码中设置了45，显示时还是90，代码更改高度没变化。</p>
<p><font color="brown"><strong>原因：</strong></font>UIButton 的 buttonType<br>在 storyboard 里面设置了控件的高度，并且添加了约束，其中便有高度的约束，约束有了，代码更改控件的高度，并不会有效果。</p>
<p><font color="green"><strong>解决方案：</strong></font><br>NSLayoutConstraint 是可以设置成属性的，在 storyboard 中添加控件高度约束的属性的连线，连接到相对应的文件中。在文件中更改该属性的值，如下：</p>
<pre><code>@property (weak, nonatomic) IBOutlet NSLayoutConstraint *surplusHeightLayout;


self.surplusHeightLayout.constant = 45;
</code></pre><h4 id="u95EE_u98982_uFF1A"><a href="#u95EE_u98982_uFF1A" class="headerlink" title="问题2："></a>问题2：</h4><p>用 storyboard 搭建的 UI，控件之间有分割线，UI设计师设计的是1像素，所以需要设置0.5高。但是在Xcode7 的 storyboard 中无法设置带有”.5”的数字。虽然可以像上面的问题的解决方案那样处理，可以达到效果，但是分割线太多，那样处理工作量太大，还会有很多冗余的代码。</p>
<p><font color="green"><strong>解决方案：</strong></font><br> 创建 NSLayoutConstraint 的子类NSLayoutConstraintHairline，在.m 中添加以下代码：</p>
<pre><code>- (void)awakeFromNib {
    [super awakeFromNib];
    if (self.constant == 1) {
       self.constant = 0.5/[UIScreen mainScreen].scale;
    }
}
</code></pre><p>在 storyboard 中设置分割线的高为任意值，选中分割线的高的约束，修改其类型NSLayoutConstraint为创建的NSLayoutConstraintHairline即可达到目的。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br></p>
<p>贵金属项目，是第一次使用 storyboard 开发，以下是初次接触 NSLayoutConstraint，遇到的问题：</p>]]>
    
    </summary>
    
      <category term="贵金属" scheme="http://yoursite.com/tags/%E8%B4%B5%E9%87%91%E5%B1%9E/"/>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Bug 小记（贵金属）]]></title>
    <link href="http://yoursite.com/2015/11/20/Bug-%E5%B0%8F%E8%AE%B0%EF%BC%88%E8%B4%B5%E9%87%91%E5%B1%9E%EF%BC%89/"/>
    <id>http://yoursite.com/2015/11/20/Bug-小记（贵金属）/</id>
    <published>2015-11-20T03:13:33.000Z</published>
    <updated>2016-01-22T02:51:17.000Z</updated>
    <content type="html"><![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br></p>
<p>最近在修复 APP 的 Bug，遇到了几个因对 SDK 不熟 造成的 Bug。如下：<br><br></p>
<a id="more"></a>
<h4 id="Bug1_uFF1A_u70B9_u51FB_u83B7_u53D6_u9A8C_u8BC1_u7801_u540E_uFF0C_u6CA1_u6709_u8FDB_u884C_u5012_u8BA1_u65F6_uFF0C_u4E14_u4E0D_u80FD_u518D_u6B21_u70B9_u51FB"><a href="#Bug1_uFF1A_u70B9_u51FB_u83B7_u53D6_u9A8C_u8BC1_u7801_u540E_uFF0C_u6CA1_u6709_u8FDB_u884C_u5012_u8BA1_u65F6_uFF0C_u4E14_u4E0D_u80FD_u518D_u6B21_u70B9_u51FB" class="headerlink" title="Bug1：点击获取验证码后，没有进行倒计时，且不能再次点击"></a>Bug1：点击获取验证码后，没有进行倒计时，且不能再次点击</h4><p>使用 GCD 写的倒计时，源代码：</p>
<pre><code>_isCountDown = YES;
__block int timeout=kCountdownTime; //倒计时时间
dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
dispatch_source_t _timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0,queue);
dispatch_source_set_timer(_timer,dispatch_walltime(NULL, 0),1.0*NSEC_PER_SEC, 0); //每秒执行
dispatch_source_set_event_handler(_timer, ^{
    if(timeout&lt;=0){ //倒计时结束，关闭
        dispatch_source_cancel(_timer);
        dispatch_async(dispatch_get_main_queue(), ^{
            [self.getSmsCodeBtn setTitle:@&quot;重新获取&quot; forState:UIControlStateNormal];

            [self.getSmsCodeBtn setTitleColor:ColorWithHexString(GJS_COLOR_LOGINBTN_AVAILABLE_NORMAL) forState:UIControlStateNormal];

            [self.getSmsCodeBtn setEnabled:YES];
            _isCountDown = NO;
        });
    }else{
        NSString *strTime = [NSString stringWithFormat:@&quot;%ds后重发&quot;,timeout];
        dispatch_async(dispatch_get_main_queue(), ^{
            [self.getSmsCodeBtn setTitle:strTime forState:UIControlStateNormal];

            [self.getSmsCodeBtn setTitleColor:ColorWithHexString(GJS_COLOR_GETCODEBTN_UNAVAILABLE) forState:UIControlStateNormal];
        });
        timeout--;

    }
});
dispatch_resume(_timer);
</code></pre><p>如上所示的源码，在 iOS7 上倒计时按钮上的文字不会变化，在 iOS 8,iOS9 上都是没问题的，我也郁闷了很久。各种百度未果后转向 Google,也有人遇到这样的问题，但是只搜索到一篇真正能解决这个问题的文章 <a href="http://blog.csdn.net/zhangyanshen/article/details/46910515" title="http://blog.csdn.net/zhangyanshen/article/details/46910515" target="_blank" rel="external">http://blog.csdn.net/zhangyanshen/article/details/46910515</a></p>
<font color="green"><strong>解决方案：</strong></font>

<pre><code>[sendAuthCodeBtn setTitle:@&quot;发送验证码&quot; forState:UIControlStateDisabled]; 
</code></pre><p>关键在于这行代码。设置了禁用状态下的文字。顺利解决了 这个 Bug。</p>
<p><br></p>
<h4 id="Bug2_uFF1A_u5012_u8BA1_u65F6_UIButton__u4E0A_u7684_u6587_u5B57_u53D8_u66F4_u4F1A_u6709_u95EA_u70C1_u6548_u679C"><a href="#Bug2_uFF1A_u5012_u8BA1_u65F6_UIButton__u4E0A_u7684_u6587_u5B57_u53D8_u66F4_u4F1A_u6709_u95EA_u70C1_u6548_u679C" class="headerlink" title="Bug2：倒计时 UIButton 上的文字变更会有闪烁效果"></a>Bug2：倒计时 UIButton 上的文字变更会有闪烁效果</h4><p><br><br>UIButton 设置 title时会闪烁。</p>
<font color="brown"><strong>原因：</strong></font>UIButton 的 buttonType 是 System 类型时会出现该种问题<br><br><font color="green"><strong>解决方案：</strong></font>UIButton 的 buttonType 设置为 Custom 类型时不会出现闪烁。<br><br><br><br>####    Bug3：在工程中添加plist 文件，用代码对其进行写入操作，在模拟器中按代码执行，但在真机上plist中内容未改变<br><br><br>plist 文件中是一个数组，元素是多个字典，在模拟器上运行一切正常，但测试人员用真机测试时发现问题，无法写入到 plist 文件中。<br><br><font color="brown"><strong>原因：</strong></font> 打包在 ipa 的文件是无法更改的。一句话：无权限修改（知道真相的我眼泪掉下来~)，只可进行读取操作。<br><br><font color="green"><strong>解决方案：</strong></font>在 app 启动的时候判断是否在 Document 文件夹下存在相同的 plsit 文件。 不存在，获取沙盒下 plist 文件中的内容，并写入Document 文件夹下的 plsit 文件。存在则不做任何处理。（之所以选择这种方式而不选择直接将内容用代码写入 Document 文件夹下来解决这个问题，是因为个人认为在开发时方便对工程中plsit 文件内容的更改）<br><br><br><br><br><strong>*<br><br><br><br>

</strong>时间：2016年1月20日<strong><br><br><br><br><br>####    Bug1：进入某个页面，App崩溃，崩溃原因是：[NSCFType set]: unrecognized selector sent to instance 0x4d80b00’<br><br><br><br><br><font color="brown"></font></strong>原因：<strong> 在新页面使用了NSMutableAttributedString，使用方式导致了崩溃，目前无法解释，使用方法如下：<br><br><br>     NSMutableAttributedString *attriString = [[NSMutableAttributedString alloc] initWithString:prodNameStr];<br>    [attriString addAttribute:NSFontAttributeName<br>                         value:[UIFont systemFontOfSize:16.0]<br>                         range:NSMakeRange(2, 2)];<br><br>    [attriString addAttribute:NSForegroundColorAttributeName<br>                         value:[UIColor redColor]<br>                         range:NSMakeRange(2, 2)];<br><br><br><font color="green"></font></strong>解决方案：**


<pre><code> NSMutableAttributedString *attriString = [[NSMutableAttributedString alloc] initWithString:prodNameStr];

[attriString setAttributes:@{NSFontAttributeName : [UIFont systemFontOfSize:12.0], NSForegroundColorAttributeName:ColorWithHexString(GJS_COLOR_TEXT_GRAY)} range:NSMakeRange(prodNameStr.length - time.length, time.length)];
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br></p>
<p>最近在修复 APP 的 Bug，遇到了几个因对 SDK 不熟 造成的 Bug。如下：<br></br></p>]]>
    
    </summary>
    
      <category term="Bug" scheme="http://yoursite.com/tags/Bug/"/>
    
      <category term="贵金属" scheme="http://yoursite.com/tags/%E8%B4%B5%E9%87%91%E5%B1%9E/"/>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[指纹解锁]]></title>
    <link href="http://yoursite.com/2015/09/16/%E6%8C%87%E7%BA%B9%E8%A7%A3%E9%94%81/"/>
    <id>http://yoursite.com/2015/09/16/指纹解锁/</id>
    <published>2015-09-16T03:39:45.000Z</published>
    <updated>2016-01-22T02:43:18.000Z</updated>
    <content type="html"><![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br></p>
<p>iOS8 指纹解锁的API，<a href="http://www.bubuko.com/infodetail-726115.html" target="_blank" rel="external">这篇文章</a>解释的非常清楚。  </p>
<p>本文主要针对在实际使用中遇到的问题及解决方法，假定已经了解指纹解锁API，如不了解API,请先移步<a href="http://www.bubuko.com/infodetail-726115.html" target="_blank" rel="external">指纹解锁的API说明</a></p>
<p>项目之前一直使用的是手势密码，近来要增加 iOS8 新出的指纹解锁功能。需求是在设置中添加指纹解锁开关 </p>
<a id="more"></a>
<h4 id="u95EE_u98981_uFF1A"><a href="#u95EE_u98981_uFF1A" class="headerlink" title="问题1："></a>问题1：</h4><p>在个人设置里面，添加指纹解锁开关项，此项仅在支持TouchID 的设备中出现<br>很好，百度了下，得到了如下解决方案  </p>
<font color="green"><strong>解决方案：</strong></font>


<pre><code>LAContext *context = [LAContext new];
NSError *error = [NSError new];
BOOL isAvailable = [context canEvaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics error:&amp;error];
</code></pre><p>这是api给出的判断TouchID是否可用的方法，isAvailable == Yes 说明 TouchID 可用，反之，则不可用。<br>但是，当我满心欢喜的使用的时候，问题来了</p>
<h4 id="u95EE_u98982_uFF1A"><a href="#u95EE_u98982_uFF1A" class="headerlink" title="问题2："></a>问题2：</h4><p>在6 Plus，未设置手机解锁密码或没有可用的指纹时，用上面的方法判断 isAvailable == No,瞬间心都碎了。<br>这里依然有解决方案</p>
<font color="green"><strong>解决方案：</strong></font>

<pre><code>if (!isAvailable) {
    NSString *str = nil;
    switch (error.code) {
           case LAErrorTouchIDNotEnrolled://无可用指纹

        case LAErrorPasscodeNotSet://设备未开启密码
        {
            isAvailable = YES;
            break;
        }
        case LAErrorTouchIDNotAvailable:
        default:
        {
            isAvailable = NO;
            break;
        }

    }
}
</code></pre><p>虽然依然把这个问题解决了。but，又产生了新的问题。</p>
<h4 id="u95EE_u98983_uFF1A"><a href="#u95EE_u98983_uFF1A" class="headerlink" title="问题3："></a>问题3：</h4><p>使用上述方法，在 iPod Touch 等不支持 TouchID 的设备，未设置手机解锁密码情况下运行时，设置中的指纹解锁开关项居然出现了。</p>
<p>单步调试之，在 error.code 的 switch 中，进入的是 case LAErrorPasscodeNotSet://设备未开启密码，执行了isAvailable = YES;。然，大胆猜测之，api 居然先判断的是有没有开启密码而不是设备类型和或系统是否支持，这使我彻底无语~~~~</p>
<p>此时，我再也不相信API了，果断自己写判断吧。</p>
<font color="green"><strong>解决方案：</strong></font>


<pre><code>// 硬件设备不支持，或系统版本不支持 指纹解锁
if (![Utils isSystemModelSupportTouchID] || ![Utils isSystemVersionMoreThanVersion:7.0]) {
    return NO;
}

LAContext *context = [LAContext new];
NSError *error = [NSError new];
BOOL isDeviceSupportTouchId = [context canEvaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics error:&amp;error];

if (!isDeviceSupportTouchId) {

    //不支持指纹识别

    switch (error.code) {

        case LAErrorTouchIDNotEnrolled:

        case LAErrorPasscodeNotSet:
        {
            isDeviceSupportTouchId = YES;
            break;
        }
        case LAErrorTouchIDNotAvailable:
        default:
        {
            isDeviceSupportTouchId = NO;
            break;
        }
    }
}


return isDeviceSupportTouchId;
</code></pre><p>硬件设备判断上花了一小点功夫，版本判断显然很简单。</p>
<p><strong>硬件设备判断思路：</strong></p>
<p>1.获取设备类型字符串，如iPhone 5c,iPhone 6；<br>2.判断设备类型字符串是包含iPhone ,iPod , iPad，是iPhone 则截取设备类型字符串中的第一位数字，iPad 有分mini 和Air, 截取设备类型字符串中的第一位数字，然后数字对比判断是否支持TouchID。</p>
<p>至此，TouchID 告一段落！在此，附上本文中的 Demo 地址：<a href="https://github.com/mohuifen/LRFFingerPrintManager" target="_blank" rel="external">LRFFingerPrintManager</a>,欢迎各位读者朋友提出建议。。</p>
<p><br></p>
<hr>
<hr>
<hr>
<p><br><br><strong>时间：2015年12月23日</strong></p>
<p><br><br>最近 iOS9.2 系统正式发布，有反应说App中使用指纹解锁在 iOS9.2 上会导致App崩溃。故，开始了查找 bug 之旅。</p>
<h4 id="u95EE_u98984_uFF1A"><a href="#u95EE_u98984_uFF1A" class="headerlink" title="问题4："></a>问题4：</h4><p>升级手机9.2 版本后，使用指纹解锁，果然是崩溃了。手指放到 home 键上后，App 卡死，无法点击页面上的控件，大概3，4秒后闪退至桌面。</p>
<p>由于测试机都没有升级，故先看了相关的代码，注意到在验证指纹成功后，                使用dispatch_sync(dispatch_get_main_queue(), ^{ }）来调用主线程处理一些工作。遂，猜想应该是这里出了问题，一般应使用dispatch_async,而非dispatch_sync。但不敢肯定，因为无法解释这样写就会崩溃，而且之前一直都是可以正常使用的。</p>
<font color="brown"><strong>原因：</strong></font><br>iOS9.2 做了优化，使体验更流畅。可能在dispatch_async和dispatch_sync下了刀。<br><br><font color="green"><strong>解决方案：</strong></font>

<p>待用9.2系统的真机运行时，半信半疑的把其改用了dispatch_async，并没有崩溃。但使用dispatch_sync确实崩溃了。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><br><br><strong>作者：秋儿（lvruifei@foxmail.com）</strong></p>
<p><br></p>
<p>iOS8 指纹解锁的API，<a href="http://www.bubuko.com/infodetail-726115.html">这篇文章</a>解释的非常清楚。  </p>
<p>本文主要针对在实际使用中遇到的问题及解决方法，假定已经了解指纹解锁API，如不了解API,请先移步<a href="http://www.bubuko.com/infodetail-726115.html">指纹解锁的API说明</a></p>
<p>项目之前一直使用的是手势密码，近来要增加 iOS8 新出的指纹解锁功能。需求是在设置中添加指纹解锁开关 </p>]]>
    
    </summary>
    
      <category term="指纹解锁" scheme="http://yoursite.com/tags/%E6%8C%87%E7%BA%B9%E8%A7%A3%E9%94%81/"/>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
  </entry>
  
</feed>