<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  
  <title><![CDATA[ç§‹å„¿]]></title>
  <subtitle><![CDATA[iOS å¼€å‘]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://yoursite.com//"/>
  <updated>2016-03-29T11:24:57.000Z</updated>
  <id>http://yoursite.com//</id>
  
  <author>
    <name><![CDATA[ç§‹å„¿]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Block]]></title>
    <link href="http://yoursite.com/2016/03/29/Block/"/>
    <id>http://yoursite.com/2016/03/29/Block/</id>
    <published>2016-03-29T11:23:19.000Z</published>
    <updated>2016-03-29T11:24:57.000Z</updated>
    <content type="html"><![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<p><code>Blocksï¼š</code></p>
<p>C è¯­è¨€çš„æ‰©å……åŠŸèƒ½ã€‚å¸¦æœ‰è‡ªåŠ¨å˜é‡ï¼ˆå±€éƒ¨å˜é‡ï¼‰çš„åŒ¿åå‡½æ•°ã€‚</p>
<p>åŒ¿åå‡½æ•°ï¼šä¸å¸¦åç§°çš„å‡½æ•°ã€‚C è¯­è¨€çš„æ ‡å‡†ä¸å…è®¸å­˜åœ¨è¿™æ ·çš„å‡½æ•°ï¼Œä½†å¯ä»¥ä½¿ç”¨å‡½æ•°çš„æŒ‡é’ˆæ¥ä»£æ›¿ç›´æ¥è°ƒç”¨å‡½æ•°ã€‚</p>
<p>Blocks ä¸­å°†è¯¥åŒ¿åå‡½æ•°éƒ¨åˆ†ç§°ä¸º â€œBlock Literalâ€ï¼Œç®€ç§° â€œBlocKâ€ã€‚</p>
<p>â€œå¸¦æœ‰è‡ªåŠ¨å˜é‡çš„åŒ¿åå‡½æ•°â€ è¿™ä¸€æ¦‚å¿µå¹¶ä¸ä»…æŒ‡ Blocks ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œä¹Ÿç§°ä¸ºé—­åŒ…ï¼ˆClosureï¼‰ã€lambda è®¡ç®—ï¼ˆlambda calculusï¼‰ç­‰ã€‚</p>
<table>
<thead>
<tr>
<th>ç¨‹åºè¯­è¨€</th>
<th>Block çš„åç§°</th>
</tr>
</thead>
<tbody>
<tr>
<td>C + Blocks</td>
<td>Block</td>
</tr>
<tr>
<td>Smalltalk</td>
<td>BlocK</td>
</tr>
<tr>
<td>Ruby</td>
<td>Block</td>
</tr>
<tr>
<td>LISP</td>
<td>Lambda</td>
</tr>
<tr>
<td>Python</td>
<td>Lambda</td>
</tr>
<tr>
<td>C++ 11</td>
<td>Lambda</td>
</tr>
<tr>
<td>Javascript</td>
<td>Anonymous function</td>
</tr>
</tbody>
</table>
<p><code>Block è¯­æ³•ï¼š</code></p>
<p>ä¸ C è¯­è¨€å‡½æ•° å®šä¹‰ç›¸æ¯”æœ‰ä¸¤ç‚¹ä¸åŒï¼š</p>
<ul>
<li>æ²¡æœ‰å‡½æ•°å</li>
<li>å¸¦æœ‰ â€œ^â€ï¼Œ æ’å…¥è®°å·ï¼Œä¾¿äºæŸ¥æ‰¾</li>
</ul>
<pre><code>^ void (int event) {
    printf(&quot;buttonId:%d event=%d\n&quot;,i,event);
}
</code></pre><a id="more"></a>
<p>Block è¯­æ³•çš„ BNèŒƒå¼ï¼š</p>
<pre><code>Block_literal_expression :: = ^ block_decl compound_statement_body
block_decl ::=
block_decl ::= parameter_list
block_decl ::= type_expression
</code></pre><p><strong>^ è¿”å›å€¼ç±»å‹ å‚æ•°åˆ—è¡¨ è¡¨è¾¾å¼</strong></p>
<pre><code>^init (init count){ return count +1;}
</code></pre><p>Block è¯­æ³•å¯çœç•¥çš„å‡ ä¸ªé¡¹ç›®ï¼š</p>
<ul>
<li><p>è¿”å›å€¼ï¼šå¦‚æœè¡¨è¾¾å¼ä¸­æœ‰ return è¯­å¥ï¼Œå°±ä½¿ç”¨è¯¥è¿”å›å€¼çš„ç±»å‹ï¼Œæ‹–è¿‡æ²¡æœ‰ return åˆ™ä½¿ç”¨ void ç±»å‹ã€‚ </p>
<pre><code>^(int count){return count + 1;}// è¿”å› int å‹è¿”å›å€¼ 
</code></pre></li>
<li><p>å‚æ•°åˆ—è¡¨ï¼š</p>
<pre><code>^void (void){printf(&quot;Blocks\n&quot;);}
^{printf(&quot;Blocks\n&quot;);}// ä¸ä¸Šé¢ä»£ç ç­‰ä»·
</code></pre></li>
</ul>
<p><code>Block ç±»å‹å˜é‡ï¼š</code></p>
<p>C è¯­è¨€å‡½æ•°ï¼Œå°†æ‰€å®šä¹‰å‡½æ•°çš„åœ°å€èµ‹å€¼ç»™å‡½æ•°æŒ‡é’ˆç±»å‹å˜é‡ä¸­ã€‚</p>
<pre><code>int func (ini count) {
    return count + 1;
}
int (* funcptr)(int) = &amp;func;
</code></pre><p>Block ç±»å‹å˜é‡ç¤ºä¾‹ï¼š</p>
<pre><code>int (^blk)(init);
</code></pre><p>å¯¹æ¯”å¯çŸ¥ï¼šå£°æ˜ Block ç±»å‹å˜é‡ä»…ä»…æ˜¯å°†å£°æ˜å‡½æ•°æŒ‡é’ˆç±»å‹å˜é‡ çš„ * å˜ä¸º ^</p>
<p>Block è¯­æ³•å°† Block èµ‹å€¼ä¸ºBlock ç±»å‹å˜é‡</p>
<pre><code>int (^blk)(int) = ^(ini count){
    return count +1;
} 

int (^blk1)(int) = blk;
int (^blk2)(int);
blk2 = blk1;

// å°† Block ä½œä¸ºå‚æ•°
void func(int (^blk)(init)){}

// å°† Block ä½œä¸ºè¿”å›å€¼
int (^func()(int)) {
    return ^(int count){
         return count + 1;
    }
}
</code></pre><p>ä½¿ç”¨ typedef æ¥è§£å†³ å‡½æ•°å‚æ•°å’Œè¿”å›å€¼ä¸­ä½¿ç”¨Block ç±»å‹å˜é‡å¤ªå¤æ‚çš„é—®é¢˜ã€‚</p>
<pre><code>typedef int (^blk_t)(int);

void func(blk_t blk) {}

blk_t func() {}
</code></pre><p>è°ƒç”¨å‡½æ•°çš„æ–¹æ³•ä¸ä½¿ç”¨å‡½æ•°æŒ‡é’ˆå˜é‡è°ƒç”¨å‡½æ•°çš„æ–¹æ³•ç›¸åŒï¼š</p>
<pre><code>int result = (*funcptr)(10);

int result = blk(10);
</code></pre><p>æŒ‡å‘ Block ç±»å‹å˜é‡çš„æŒ‡é’ˆï¼Œå³ Block çš„æŒ‡é’ˆç±»å‹å˜é‡</p>
<pre><code>typedef int (^blk_t)(int);
blk_t blk = ^(int count){ return count +1;};
blk_t *blkptr = &amp;blk ;
(*blkptr)(10);
</code></pre><p><code>æˆªè·è‡ªåŠ¨å˜é‡å€¼ï¼š</code></p>
<pre><code>int main(){
    int dmy = 256;
    int val = 10;
    const char *fmt = &quot;val = %d\n&quot;;
    void (^blk)(void) = ^{printf(fmt,val);};

    val = 2ï¼›
    fmt =&quot;These values were changed. val = %d\n&quot;;

    blk();// val = 10;
    return 0;
}
</code></pre><p><code>__block è¯´æ˜ç¬¦ï¼š</code></p>
<p>è‹¥æƒ³åœ¨ Block è¯­æ³•è¡¨è¾¾å¼ä¸­å°† Block è¯­æ³•å¤–å£°æ˜çš„è‡ªåŠ¨å˜é‡çš„å€¼è¿›è¡Œæ”¹å†™ï¼Œåˆ™è¯¥è‡ªåŠ¨å˜é‡éœ€åŠ ä¸Š __block è¯´æ˜ç¬¦ã€‚</p>
<pre><code>__block int val = 0;
void (^blk)(void) =^{ val = 1};
blk();
// val = 1;
</code></pre><p><code>æˆªè·çš„è‡ªåŠ¨å˜é‡ï¼š</code></p>
<p>ä¸åŠ  __block è¯´æ˜ç¬¦ï¼Œä½¿ç”¨æˆªè·çš„è‡ªåŠ¨å˜é‡ä¸ä¼šå‡ºé”™ï¼Œä½†èµ‹å€¼ç»™æˆªè·çš„è‡ªåŠ¨å˜é‡ä¼šç¼–è¯‘é”™è¯¯ï¼š</p>
<pre><code>id array = [[NSMutableArray alloc] init];
void (^blk)(void) = ^{
    id obj = [[NSObject alloc] init];
    [array addObject:obj]; // ä¸ä¼šå‡ºé”™
    array = [[NSMutableArray alloc] init]; // ç¼–è¯‘é”™è¯¯ï¼Œ éœ€åœ¨å¤–é¢çš„array å£°æ˜çš„åœ°æ–¹æ·»åŠ  __block è¯´æ˜ç¬¦

}
</code></pre><p>åœ¨ä½¿ç”¨ C è¯­è¨€æ•°ç»„æ—¶å¿…é¡»å°å¿ƒä½¿ç”¨å…¶æŒ‡é’ˆï¼Œåœ¨ Blocks ä¸­ï¼Œæˆªè·è‡ªåŠ¨å˜é‡çš„æ–¹æ³•å¹¶æ²¡æœ‰å®ç°å¯¹ C è¯­è¨€æ•°ç»„çš„æˆªè·ï¼Œåº”ä½¿ç”¨æŒ‡é’ˆè§£å†³ã€‚</p>
<pre><code>// ä¸æ­£ç¡®
const char text[] = &quot;hello&quot;;
void (^blk)(void) = ^{
    printf(&quot;%c\n&quot;,text[2]);
};

// æ­£ç¡®
const char *text[] = &quot;hello&quot;;
void (^blk)(void) = ^{
    printf(&quot;%c\n&quot;,text[2]);
};
</code></pre><p><code>Blocks çš„å®ç°ï¼š</code></p>
<p>Block å®é™…ä¸Šæ˜¯ä½œä¸ºææ™®é€šçš„ C è¯­è¨€æºä»£ç æ¥å¤„ç†çš„ã€‚é€šè¿‡æ”¯æŒ Block çš„ç¼–è¯‘å™¨ï¼Œå«æœ‰ Block è¯­æ³•çš„æºä»£ç è½¬æ¢ä¸ºä¸€èˆ¬çš„ C è¯­è¨€ç¼–è¯‘å™¨èƒ½å¤Ÿå¤„ç†çš„æºä»£ç ï¼Œç„¶åè¢«ç¼–è¯‘ã€‚</p>
<p>å°†å«æœ‰ Block è¯­æ³•çš„æºä»£ç å˜æ¢ä¸º C++ çš„æºä»£ç ã€‚ä»…ä½¿ç”¨äº† struct ç»“æ„ï¼Œ æœ¬è´¨æ˜¯ C è¯­è¨€æºä»£ç ã€‚</p>
<pre><code>clang -rewrite-objc æºä»£ç æ–‡ä»¶å
</code></pre><blockquote>
<p>å„ç§å®ç°æ–¹å¼ï¼Œç°åœ¨æ— æ³•ç†è§£ï¼Œä¹‹åå†è¡¥ã€‚</p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<p><code>Blocksï¼š</code></p>
<p>C è¯­è¨€çš„æ‰©å……åŠŸèƒ½ã€‚å¸¦æœ‰è‡ªåŠ¨å˜é‡ï¼ˆå±€éƒ¨å˜é‡ï¼‰çš„åŒ¿åå‡½æ•°ã€‚</p>
<p>åŒ¿åå‡½æ•°ï¼šä¸å¸¦åç§°çš„å‡½æ•°ã€‚C è¯­è¨€çš„æ ‡å‡†ä¸å…è®¸å­˜åœ¨è¿™æ ·çš„å‡½æ•°ï¼Œä½†å¯ä»¥ä½¿ç”¨å‡½æ•°çš„æŒ‡é’ˆæ¥ä»£æ›¿ç›´æ¥è°ƒç”¨å‡½æ•°ã€‚</p>
<p>Blocks ä¸­å°†è¯¥åŒ¿åå‡½æ•°éƒ¨åˆ†ç§°ä¸º â€œBlock Literalâ€ï¼Œç®€ç§° â€œBlocKâ€ã€‚</p>
<p>â€œå¸¦æœ‰è‡ªåŠ¨å˜é‡çš„åŒ¿åå‡½æ•°â€ è¿™ä¸€æ¦‚å¿µå¹¶ä¸ä»…æŒ‡ Blocks ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œä¹Ÿç§°ä¸ºé—­åŒ…ï¼ˆClosureï¼‰ã€lambda è®¡ç®—ï¼ˆlambda calculusï¼‰ç­‰ã€‚</p>
<table>
<thead>
<tr>
<th>ç¨‹åºè¯­è¨€</th>
<th>Block çš„åç§°</th>
</tr>
</thead>
<tbody>
<tr>
<td>C + Blocks</td>
<td>Block</td>
</tr>
<tr>
<td>Smalltalk</td>
<td>BlocK</td>
</tr>
<tr>
<td>Ruby</td>
<td>Block</td>
</tr>
<tr>
<td>LISP</td>
<td>Lambda</td>
</tr>
<tr>
<td>Python</td>
<td>Lambda</td>
</tr>
<tr>
<td>C++ 11</td>
<td>Lambda</td>
</tr>
<tr>
<td>Javascript</td>
<td>Anonymous function</td>
</tr>
</tbody>
</table>
<p><code>Block è¯­æ³•ï¼š</code></p>
<p>ä¸ C è¯­è¨€å‡½æ•° å®šä¹‰ç›¸æ¯”æœ‰ä¸¤ç‚¹ä¸åŒï¼š</p>
<ul>
<li>æ²¡æœ‰å‡½æ•°å</li>
<li>å¸¦æœ‰ â€œ^â€ï¼Œ æ’å…¥è®°å·ï¼Œä¾¿äºæŸ¥æ‰¾</li>
</ul>
<pre><code>^ void (int event) {
    printf(&quot;buttonId:%d event=%d\n&quot;,i,event);
}
</code></pre>]]>
    
    </summary>
    
      <category term="Block" scheme="http://yoursite.com/tags/Block/"/>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ARCè§„åˆ™]]></title>
    <link href="http://yoursite.com/2016/03/17/ARC%E8%A7%84%E5%88%99/"/>
    <id>http://yoursite.com/2016/03/17/ARCè§„åˆ™/</id>
    <published>2016-03-17T08:49:05.000Z</published>
    <updated>2016-03-17T09:11:55.000Z</updated>
    <content type="html"><![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<blockquote>
<p>å­¦ä¹ ç¬”è®° äºŒ ä¹‹ã€ŠObjective-Cé«˜çº§ç¼–ç¨‹ iOSä¸OS Xå¤šçº¿ç¨‹å’Œå†…å­˜ç®¡ç†ã€‹</p>
</blockquote>
<h5 id="u7B2C_u4E00_u7AE0_uFF1A_u81EA_u52A8_u5F15_u7528_u8BA1_u6570"><a href="#u7B2C_u4E00_u7AE0_uFF1A_u81EA_u52A8_u5F15_u7528_u8BA1_u6570" class="headerlink" title="ç¬¬ä¸€ç« ï¼šè‡ªåŠ¨å¼•ç”¨è®¡æ•°"></a>ç¬¬ä¸€ç« ï¼šè‡ªåŠ¨å¼•ç”¨è®¡æ•°</h5><p><strong>ARC è§„åˆ™</strong></p>
<p><code>ARC æ‰€æœ‰æƒä¿®é¥°ç¬¦ï¼š</code></p>
<ul>
<li><p>__strongï¼š</p>
<p>  å¯¹å¯¹è±¡å¼ºå¼•ç”¨ï¼Œå˜é‡è¶…å‡ºå…¶ä½œç”¨åŸŸæ—¶è¢«åºŸå¼ƒï¼Œå¼ºå¼•ç”¨å¤±æ•ˆï¼Œå¯¹è±¡ä¹Ÿéšä¹‹é‡Šæ”¾ï¼ˆid ç±»å‹å’Œå¯¹è±¡ç±»å‹é»˜è®¤ä¸º __strong ä¿®é¥°ç¬¦ï¼‰</p>
</li>
<li><p>__weakï¼š</p>
</li>
</ul>
<a id="more"></a>
<pre><code>åœ¨æŒæœ‰æŸå¯¹è±¡çš„å¼±å¼•ç”¨æ—¶ï¼Œè‹¥å¯¹è±¡è¢«åºŸå¼ƒï¼Œåˆ™æ­¤å¼±å¼•ç”¨å°†è‡ªåŠ¨å¤±æ•ˆä¸”å¤„äºnil è¢«èµ‹å€¼çš„çŠ¶æ€ï¼ˆç©ºå¼±å¼•ç”¨ï¼‰ã€‚åªèƒ½ç”¨äº iOS5 å’Œ OS X Lion ä»¥ä¸Šç‰ˆæœ¬ï¼Œä»¥ä¸‹å¯ä½¿ç”¨ __unsafe_unretained ä¿®é¥°ç¬¦æ¥ä»£æ›¿ã€‚ 
</code></pre><ul>
<li><p>__unsafe_unretainedï¼š</p>
<p>  è¢«ä¿®é¥°çš„å˜é‡ä¸å±äºç¼–è¯‘å™¨çš„å†…å­˜ç®¡ç†å¯¹è±¡ï¼Œæ˜¯ __weak çš„ä»£æ›¿</p>
</li>
<li><p>__autoreleasingï¼š</p>
<p>  @autoreleasepool å—ä»£æ›¿ NSAutoreleasePool ç±»å¯¹è±¡ç”Ÿæˆï¼ŒæŒæœ‰ï¼ŒåºŸå¼ƒè¿™ä¸€èŒƒå›´</p>
<p>  __autoreleasing ä¿®é¥°ç¬¦ ç­‰ä»·äºåœ¨ ARC æ— æ•ˆæ—¶è°ƒç”¨å¯¹è±¡çš„ autorelease æ–¹æ³•</p>
<p>  ç¼–è¯‘å™¨ä¼šæ£€æŸ¥æ–¹æ³•åæ˜¯å¦æ˜¯ä»¥ alloc/new/copy/mutableCopy å¼€å§‹ï¼Œä¸æ˜¯ï¼Œåˆ™è‡ªåŠ¨å°†è¿”å›å€¼å¾—å¯¹è±¡æ³¨å†Œåˆ° autoreleasepool</p>
<p>  è®¿é—® __weak ä¿®é¥°ç¬¦çš„å˜é‡æ—¶å¿…é¡»è®¿é—®æ³¨å†Œåˆ° autoreleasepool çš„å¯¹è±¡</p>
<p>  id çš„æŒ‡é’ˆæˆ–å¯¹è±¡çš„æŒ‡é’ˆä¼šé»˜è®¤é™„åŠ ä¸Š __autoreleasing ä¿®é¥°ç¬¦</p>
<p>  èµ‹å€¼ç»™å¯¹è±¡æŒ‡é’ˆæ—¶ï¼Œæ‰€æœ‰æƒä¿®é¥°ç¬¦å¿…é¡»ä¸€è‡´ï¼š</p>
<pre><code>NSError *error = nil;
NSError * __strong *pError = &amp;error;

NSError _weak *error = nil;
NSError * __weak *pError = &amp;error;
</code></pre><p>  NSRunLoop ç­‰å®ç°ä¸è®º ARC æœ‰æ•ˆè¿˜æ˜¯æ— æ•ˆï¼Œå‡èƒ½å¤Ÿéšæ—¶é‡Šæ”¾æ³¨å†Œåˆ° autoreleasepool ä¸­çš„å¯¹è±¡ã€‚</p>
<p>  ARC æ— æ•ˆæ—¶ @autoreleasepool å— _objc_autoreleasePoolPrint() å‡èƒ½ä½¿ç”¨ã€‚</p>
</li>
</ul>
<p><code>ARC è§„åˆ™ï¼š</code>    </p>
<ul>
<li><p>ä¸èƒ½ä½¿ç”¨ retain/release/retainCount/autoreleaseï¼š</p>
<p>  å†…å­˜ç®¡ç†æ˜¯ç¼–è¯‘å™¨çš„å·¥ä½œ</p>
</li>
<li><p>ä¸èƒ½ä½¿ç”¨ NSAllocateObject/NSDeallocateObject</p>
</li>
<li><p>éœ€éµå®ˆå†…å­˜ç®¡ç†çš„æ–¹æ³•å‘½åè§„åˆ™ï¼š</p>
<p>  init å¼€å§‹çš„æ–¹æ³•è¿”å›çš„å¯¹è±¡å¹¶ä¸æ³¨å†Œåˆ°autoreleasepool ä¸Š</p>
<p>  init æ–¹æ³•è¿”å›çš„å¯¹è±¡åº”ä¸º id ç±»å‹æˆ–è¯¥æ–¹æ³•å£°æ˜ç±»çš„å¯¹è±¡ç±»å‹ï¼Œæˆ–è€…æ˜¯è¯¥ç±»çš„è¶…ç±»å‹æˆ–å­ç±»å‹</p>
</li>
<li><p>ä¸è¦æ˜¾å¼è°ƒç”¨ dealloc</p>
</li>
<li>ä½¿ç”¨ @autoreleasepool å—æ›¿ä»£ NSAutoreleasePool</li>
<li><p>ä¸èƒ½ä½¿ç”¨åŒºåŸŸï¼ˆNSZoneï¼‰ï¼š</p>
<p>  ä¸ç®¡ ARC æ˜¯å¦æœ‰æ•ˆï¼ŒåŒºåŸŸåœ¨ç°åœ¨çš„è¿è¡Œæ—¶ç³»ç»Ÿä¸­å·²å•çº¯çš„è¢«å¿½ç•¥</p>
</li>
<li><p>å¯¹è±¡å‹å˜é‡ä¸èƒ½ä½œä¸º C è¯­è¨€ç»“æ„ä½“ï¼ˆstruct/unionï¼‰çš„æˆå‘˜ï¼š</p>
<p>  è¦æŠŠå¯¹è±¡å‹å˜é‡åŠ å…¥åˆ°ç»“æ„ä½“æˆå‘˜ä¸­æ—¶ï¼Œå¯å¼ºåˆ¶è½¬æ¢ä¸º void * æˆ–è€…æ˜¯é™„åŠ  __unsafe_unretained ä¿®é¥°ç¬¦</p>
<pre><code>struct Data {
    NSMutableArray __unsafe_unretained *array;
};
</code></pre></li>
<li><p>æ˜¾å¼è½¬æ¢ â€œidâ€ å’Œ â€œvoid *â€</p>
<p>  åœ¨ ARC æ— æ•ˆæ—¶ï¼Œå°† void * å˜é‡èµ‹å€¼ç»™ id å˜é‡ï¼Œè°ƒç”¨å…¶å®ä¾‹æ–¹æ³•ï¼Œè¿è¡Œæ—¶ä¸ä¼šæœ‰é—®é¢˜</p>
<pre><code>//ARC æ— æ•ˆ
id obj = [[NSObject alloc] init];
void *p = obj;
id o = p;
[o release];
</code></pre><p>  åœ¨ ARC æœ‰æ•ˆæ—¶ï¼Œä¸Šé¢çš„ä»£ç ä¼šå¼•èµ·ç¼–è¯‘é”™è¯¯ã€‚id å‹æˆ–å¯¹è±¡å‹å˜é‡èµ‹å€¼ç»™ void * æˆ–è€…é€†å‘èµ‹å€¼æ—¶éƒ½éœ€è¦è¿›è¡Œç‰¹å®šçš„è½¬æ¢ã€‚å¦‚æœåªæƒ³å•çº¯åœ°èµ‹å€¼ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ â€œ__bridge è½¬æ¢â€</p>
<pre><code>id obj = [[NSObject alloc] init];
void *p = (__bridge void *)obj;
id o = (__bridge id)p;
</code></pre><p>  è½¬æ¢ä¸º void * çš„ <strong>bridge è½¬æ¢ï¼Œå…¶å®‰å…¨æ€§ä¸èµ‹å€¼ç»™ </strong>unsafe_unretained ä¿®é¥°ç¬¦ç›¸è¿‘ï¼Œç”šè‡³æ›´ä½ã€‚å¦‚æœç®¡ç†æ—¶ä¸æ³¨æ„èµ‹å€¼å¯¹è±¡çš„æ‰€æœ‰è€…ï¼Œå°±ä¼šå› æ‚¬å‚æŒ‡é’ˆè€Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚</p>
<p>  <strong>bridge è½¬æ¢ä¸­è¿˜æœ‰ â€œ</strong>bridge_retained è½¬æ¢â€ å’Œ â€œ__bridge_transferè½¬æ¢â€</p>
<ul>
<li>__bridge_retained ä½¿è¦è½¬æ¢èµ‹å€¼çš„å˜é‡ä¹ŸæŒæœ‰æ‰€èµ‹å€¼çš„å¯¹è±¡ï¼Œ ä¸retain ç›¸ä¼¼</li>
<li>__bridge_transfer ä¸ä¸Šé¢çš„ç›¸åï¼Œè¢«è½¬æ¢çš„å˜é‡æ‰€æŒæœ‰çš„å¯¹è±¡åœ¨è¯¥å˜é‡è¢«èµ‹å€¼ç»™è½¬æ¢ç›®æ ‡å˜é‡åéšä¹‹é‡Šæ”¾ï¼Œä¸ release ç›¸ä¼¼</li>
</ul>
</li>
</ul>
<pre><code>Objective-C å¯¹è±¡å’Œ Core Foundation å¯¹è±¡ï¼Œåè€…ä¸»è¦ä½¿ç”¨åœ¨ç”¨ C è¯­è¨€ç¼–å†™çš„ Core Foundation æ¡†æ¶ä¸­ï¼Œä½¿ç”¨å¼•ç”¨è®¡æ•°çš„å¯¹è±¡ã€‚ä¸¤è€…åŒºåˆ«å¾ˆå°ï¼Œä¸åŒä¹‹å¤„åªåœ¨äºç”±å“ªä¸€ä¸ªæ¡†æ¶æ‰€ç”Ÿæˆã€‚ä¸€æ—¦ç”Ÿæˆï¼Œä¾¿èƒ½åœ¨ä¸åŒçš„æ¡†æ¶ä¸­ä½¿ç”¨ã€‚


    CFMutableArrayRef cgObject = NULL;
    {
        id obj = [[NSMutableArray alloc] init];
        cfObject = CFBridgeRetain(obj);
        CFShow(cfObject);
        printf(&quot;retain count = %d\n&quot;,CFGetRetainCount(cfObject));// 2
    }
    printf(&quot;retain count after scope = %d\n&quot;,CFGetRetainCount(cfObject));// 1
    CFReleaseï¼ˆcfObjectï¼‰;

__bridge_retained è½¬æ¢ å¯ä»¥ä»£æ›¿ CFBridgeRetainï¼Œå½“ç„¶ï¼Œ__bridge_transfer è½¬æ¢ä¹Ÿå¯ä»¥æ›¿ä»£ CFBridgeRelease
</code></pre><p><code>å±æ€§ï¼š</code></p>
<table>
<thead>
<tr>
<th>å±æ€§å£°æ˜çš„å±æ€§</th>
<th>æ‰€æœ‰æƒä¿®é¥°ç¬¦      </th>
</tr>
</thead>
<tbody>
<tr>
<td> assin</td>
<td>__unsafe_unretained ä¿®é¥°ç¬¦      </td>
</tr>
<tr>
<td> copy</td>
<td>__strong ä¿®é¥°ç¬¦ï¼ˆä½†æ˜¯èµ‹å€¼çš„æ˜¯è¢«å¤åˆ¶çš„å¯¹è±¡ï¼‰</td>
</tr>
<tr>
<td> retain</td>
<td>__strong ä¿®é¥°ç¬¦</td>
</tr>
<tr>
<td> strong</td>
<td>__strong ä¿®é¥°ç¬¦</td>
</tr>
<tr>
<td> unsafe_unretained</td>
<td>__unsafe_unretained ä¿®é¥°ç¬¦</td>
</tr>
<tr>
<td> weak</td>
<td>__weak ä¿®é¥°ç¬¦</td>
</tr>
</tbody>
</table>
<p>å£°æ˜ç±»æˆå‘˜å˜é‡æ—¶ï¼Œå¦‚æœåŒå±æ€§å£°æ˜ä¸­çš„å±æ€§ä¸ä¸€è‡´ï¼Œåˆ™ä¼šå¼•èµ·ç¼–è¯‘é”™è¯¯ï¼Œå¦‚ï¼š</p>
<pre><code>// é”™è¯¯
id obj;
@property (nonatomic, weak) id obj;


// æ­£ç¡®
id __weak obj;
@property (nonatomic, weak) id obj;

// æ­£ç¡®
id obj;
@property (nonatomic, strong) id obj;
</code></pre><p><code>æ•°ç»„ï¼š</code></p>
<p>æ•°ç»„è¶…å‡ºå…¶å˜é‡ä½œç”¨åŸŸæ—¶ï¼Œæ•°ç»„ä¸­å„ä¸ªé™„æœ‰ __strong ä¿®é¥°ç¬¦çš„å˜é‡ä¹Ÿéšä¹‹å¤±æ•ˆï¼Œå…¶å¼ºå¼•ç”¨æ¶ˆå¤±ï¼Œå¯¹è±¡éšä¹‹é‡Šæ”¾ã€‚</p>
<ul>
<li>calloc å‡½æ•°åˆ†é…å†…å­˜ä¼šä½¿åˆ†é…åŒºåŸŸåˆå§‹åŒ–ä¸º0</li>
<li>malloc å‡½æ•°åˆ†é…å†…å­˜ååŒºåŸŸæ²¡æœ‰è¢«åˆå§‹åŒ–0ï¼Œå¯ç”¨ memset ç­‰å‡½æ•°å°†å†…å­˜å¡«å……ä¸º 0 </li>
</ul>
<p><code>ARC çš„å®ç°ï¼š</code></p>
<p>ARC æ˜¯ç”±ç¼–è¯‘å™¨è¿›è¡Œå†…å­˜ç®¡ç†ï¼Œä½†æ˜¯éœ€è¦ Objective-C è¿è¡Œæ—¶åº“çš„ååŠ©</p>
<ul>
<li>clang(LLVM ç¼–è¯‘å™¨)3.0 ä»¥ä¸Š</li>
<li>objc4 Objective-C è¿è¡Œæ—¶åº“ 493.9 ä»¥ä¸Š</li>
</ul>
<p>ä»¥ä¸‹å†…å®¹å¾…å­¦</p>
<p><code>__strong ä¿®é¥°ç¬¦ï¼š</code></p>
<p><code>__weak ä¿®é¥°ç¬¦ï¼š</code></p>
<p><code>__autoreleasing ä¿®é¥°ç¬¦ï¼š</code></p>
]]></content>
    <summary type="html">
    <![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<blockquote>
<p>å­¦ä¹ ç¬”è®° äºŒ ä¹‹ã€ŠObjective-Cé«˜çº§ç¼–ç¨‹ iOSä¸OS Xå¤šçº¿ç¨‹å’Œå†…å­˜ç®¡ç†ã€‹</p>
</blockquote>
<h5 id="u7B2C_u4E00_u7AE0_uFF1A_u81EA_u52A8_u5F15_u7528_u8BA1_u6570"><a href="#u7B2C_u4E00_u7AE0_uFF1A_u81EA_u52A8_u5F15_u7528_u8BA1_u6570" class="headerlink" title="ç¬¬ä¸€ç« ï¼šè‡ªåŠ¨å¼•ç”¨è®¡æ•°"></a>ç¬¬ä¸€ç« ï¼šè‡ªåŠ¨å¼•ç”¨è®¡æ•°</h5><p><strong>ARC è§„åˆ™</strong></p>
<p><code>ARC æ‰€æœ‰æƒä¿®é¥°ç¬¦ï¼š</code></p>
<ul>
<li><p>__strongï¼š</p>
<p>  å¯¹å¯¹è±¡å¼ºå¼•ç”¨ï¼Œå˜é‡è¶…å‡ºå…¶ä½œç”¨åŸŸæ—¶è¢«åºŸå¼ƒï¼Œå¼ºå¼•ç”¨å¤±æ•ˆï¼Œå¯¹è±¡ä¹Ÿéšä¹‹é‡Šæ”¾ï¼ˆid ç±»å‹å’Œå¯¹è±¡ç±»å‹é»˜è®¤ä¸º __strong ä¿®é¥°ç¬¦ï¼‰</p>
</li>
<li><p>__weakï¼š</p>
</li>
</ul>]]>
    
    </summary>
    
      <category term="Objective-Cé«˜çº§ç¼–ç¨‹ iOSä¸OS Xå¤šçº¿ç¨‹å’Œå†…å­˜ç®¡ç†" scheme="http://yoursite.com/tags/Objective-C%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B-iOS%E4%B8%8EOS-X%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/"/>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[å†…å­˜ç®¡ç†å’Œå¼•ç”¨è®¡æ•°]]></title>
    <link href="http://yoursite.com/2016/03/15/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%92%8C%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0/"/>
    <id>http://yoursite.com/2016/03/15/å†…å­˜ç®¡ç†å’Œå¼•ç”¨è®¡æ•°/</id>
    <published>2016-03-15T09:35:11.000Z</published>
    <updated>2016-03-15T09:51:57.000Z</updated>
    <content type="html"><![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<blockquote>
<p>å­¦ä¹ ç¬”è®° ä¸€ ä¹‹ã€ŠObjective-Cé«˜çº§ç¼–ç¨‹ iOSä¸OS Xå¤šçº¿ç¨‹å’Œå†…å­˜ç®¡ç†ã€‹</p>
</blockquote>
<h5 id="u7B2C_u4E00_u7AE0_uFF1A_u81EA_u52A8_u5F15_u7528_u8BA1_u6570"><a href="#u7B2C_u4E00_u7AE0_uFF1A_u81EA_u52A8_u5F15_u7528_u8BA1_u6570" class="headerlink" title="ç¬¬ä¸€ç« ï¼šè‡ªåŠ¨å¼•ç”¨è®¡æ•°"></a>ç¬¬ä¸€ç« ï¼šè‡ªåŠ¨å¼•ç”¨è®¡æ•°</h5><p><strong>å†…å­˜ç®¡ç†/å¼•ç”¨è®¡æ•°</strong></p>
<p><code>ARC ä½¿ç”¨æ¡ä»¶ï¼š</code></p>
<p>Xcode4.2ï¼ŒLLVM3.0ï¼Œç¼–è¯‘å™¨è®¾ç½® ARC æœ‰æ•ˆ</p>
<p><code>å¼•ç”¨è®¡æ•°ï¼š</code></p>
<p>1.è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰ï¼ˆallocï¼Œnewï¼Œcopyï¼ŒmutableCopyï¼ŒallocMyObjectï¼ŒnewThatObjectï¼ŒcopyThisï¼ŒmutableCopyYourObjectï¼‰:</p>
<ul>
<li>allocï¼šè‡ªå·±ç”Ÿæˆå¹¶æŒæœ‰å¯¹è±¡</li>
<li>newï¼šè‡ªå·±ç”Ÿæˆå¹¶æŒæœ‰å¯¹è±¡</li>
<li>copyï¼šåˆ©ç”¨ NSCopyingï¼Œå„ç±»å®ç° copyWithZone: ç”Ÿæˆå¹¶æŒæœ‰å¯¹è±¡çš„å‰¯æœ¬</li>
<li>mutableCopyï¼šåˆ©ç”¨ NSMutableCopying,å„ç±»å®ç° mutableCopyWithZone: ç”Ÿæˆå¹¶æŒæœ‰å¯¹è±¡çš„å‰¯æœ¬</li>
</ul>
<a id="more"></a>
<p>2.éè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±ä¹Ÿèƒ½æŒæœ‰ï¼ˆretainï¼‰:</p>
<ul>
<li>é€šè¿‡ retain æ–¹æ³•ï¼Œéè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡è·Ÿ alloc/new/copy/mutableCopy æ–¹æ³•ç”Ÿæˆå¹¶æŒæœ‰çš„å¯¹è±¡ä¸€æ ·ï¼Œæˆä¸ºäº†è‡ªå·±æ‰€æŒæœ‰çš„</li>
</ul>
<p>3.ä¸å†éœ€è¦è‡ªå·±æŒæœ‰çš„å¯¹è±¡æ—¶é‡Šæ”¾ï¼ˆreleaseï¼‰:</p>
<ul>
<li>releaseï¼šè‡ªå·±æŒæœ‰çš„å¯¹è±¡ï¼Œä¸€æ—¦ä¸å†éœ€è¦ï¼ŒæŒæœ‰è€…æœ‰ä¹‰åŠ¡é‡Šæ”¾è¯¥å¯¹è±¡ã€‚</li>
<li>autoreleaseï¼š ä¸ç«‹å³é‡Šæ”¾ï¼Œæ³¨å†Œåˆ°autoreleasepool ä¸­ï¼Œpool ç»“æŸæ—¶è‡ªåŠ¨è°ƒç”¨release</li>
</ul>
<p>4.éè‡ªå·±æŒæœ‰çš„å¯¹è±¡æ— æ³•é‡Šæ”¾ï¼š</p>
<ul>
<li>é‡Šæ”¾éè‡ªå·±æŒæœ‰çš„å¯¹è±¡ä¼šé€ æˆç¨‹åºå´©æºƒ</li>
</ul>
<p><code>GNUstepï¼š</code></p>
<p>æ˜¯ Cocoa æ¡†æ¶çš„äº’æ¢æ¡†æ¶ï¼Œä¸¤è€…çš„è¡Œä¸ºå’Œå®ç°æ–¹å¼éå¸¸ç›¸ä¼¼ã€‚</p>
<p><code>alloc/retain/release/dealloc å®ç°ï¼š</code></p>
<p>1.allocï¼š</p>
<pre><code>+ (id)alloc {
    return [self allocWithZone: NSDefaultMallocZone()];
}
+ (id)allocWithZone:(NSZone *)z { 
    return NSAllocateObject(self, 0, z);
}
</code></pre><p>NSAllocateObject å‡½æ•°åˆ†é…å¯¹è±¡</p>
<pre><code>struct obj_layout {
    NSUInteger retained;
}
inline id 
NSAllocateObject(Class aClass, NSUInteger extraBytes, NSZone *zone) {
    int size = è®¡ç®—å®¹çº³å¯¹è±¡æ‰€éœ€å†…å­˜çš„å¤§å°;
    id new = NSZoneMalloc(zone, size);// åˆ†é…å­˜æ”¾å¯¹è±¡æ‰€éœ€çš„å†…å­˜ç©ºé—´
    memset(new, 0, size);// å°†è¯¥å†…å­˜ç©ºé—´ç½®ä¸º0
    new = (id) &amp;((struct obj_layout *) new)[1];// è¿”å›ä½œä¸ºå¯¹è±¡è€Œä½¿ç”¨çš„æŒ‡é’ˆã€‚
}
</code></pre><p>NSDefaultMallocZoneã€NSZoneMalloc ä¸­çš„ NSZoneï¼Œ ä¸ºé˜²æ­¢å†…å­˜ç¢ç‰‡åŒ–è€Œå¼•å…¥çš„ç»“æ„ã€‚æ ¹æ®ä½¿ç”¨å¯¹è±¡çš„ç›®çš„ã€å¯¹è±¡çš„å¤§å° åˆ†é…å†…å­˜ï¼Œæé«˜å†…å­˜ç®¡ç†çš„æ•ˆç‡ã€‚ </p>
<p>å¤šé‡åŒºåŸŸé˜²æ­¢å†…å­˜ç¢ç‰‡åŒ–ã€‚</p>
<p>å»æ‰NSZone åç®€åŒ–çš„æºä»£ç ï¼š</p>
<pre><code>struct obj_layout {
    NSUInteger retained;// ä¿å­˜å¼•ç”¨è®¡æ•°ï¼Œå†™å…¥å¯¹è±¡å†…å­˜å¤´éƒ¨ï¼Œ
}
+ (id)alloc {
    int size = sizeof(struct obj_layout) + å¯¹è±¡å¤§å°ï¼›
    struct obj_layout *p = (struct obj_layout *)calloc(1, size);
    return (id)(p+1);
}
</code></pre><p>å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å¯é€šè¿‡ retainCount å®ä¾‹æ–¹æ³•å–å¾—</p>
<pre><code>id obj = [[NSObject alloc] init];
NSLog(@&quot;retainCount = %d&quot;, [obj retainCount]);


// NSObject.m
- (NSUInteger)retainCount {
    return NSExtraRefCount(self) + 1;
}

inline NSUInteger 
NSExtraRefCount(id anObject) {
    return ((struct obj_layout *) anObject)[-1].retained;// ç”±å¯¹è±¡å¯»å€æ‰¾åˆ°å¯¹è±¡å†…å­˜å¤´éƒ¨ï¼Œè®¿é—®retained å˜é‡
}
</code></pre><p>2.retain<br>I</p>
<pre><code>//NSObject.m
- (id)retain {
    NSIncrementExtraRefCount(self);
    return self;
}

inline void
NSIncrementExtraRefCount(id anObject) {
// å½“ retained å˜é‡ è¶…å‡ºæœ€å¤§å€¼æ—¶å‘ç”Ÿå¼‚å¸¸
    if ((struct obj_layout *)anObject)[-1].retained == UINT_MAX     - 1) {
        [NSException raise:NSInternalInconsistencyException format:@&quot;NSIncrementExtraRefCount() asked to increment too far&quot;];
    }
    ((sruct obj_layout *)anObject)[-1].retained++;
}
</code></pre><p>3.release </p>
<pre><code>//NSObject.m
- (void)release {
    if(NSDecrementExtraRefCountWasZero(self)) {
    [self dealloc];
}

inline BOOL
NSDecrementExtraRefCount(id anObject) {
    //    å½“retained å˜é‡å¤§äº 0 æ—¶ å‡ 1ï¼Œ ç­‰äº 0 æ—¶è°ƒç”¨ dealloc å®ä¾‹æ–¹æ³•ï¼ŒåºŸå¼ƒå¯¹è±¡
    if(((struct obj_layout *)anObject)[-1].retained == 0 ) {
        return YES;
    } else {
        ((struct obj_layout *)anObject)[-1].retained--;
        return NO;
    }
})
</code></pre><p>4.dealloc </p>
<pre><code>//NSObject.m
- (void)dealloc {
    NSDeallocateObject(self);
}

inline void
NSDeallocateObject(id anObject) {
    struct obj_layout *o = &amp;((struct obj_layout *)anObject)[-1];
    free(0);// ä»…åºŸå¼ƒç”± alloc åˆ†é…çš„å†…å­˜å—
}
</code></pre><p><code>è‹¹æœçš„å®ç°ï¼š</code></p>
<p>1.alloc</p>
<pre><code>+alloc
+allocWithZone:
class_createInstance
calloc
</code></pre><p>2.retainCount</p>
<pre><code>-retainCount
__CFDoExterRefOperation
CFBaseicHashGetCountOfKey
</code></pre><p>3.retain</p>
<pre><code>-retain
__CFDoExterRefOperation
CFBasicHashAddValue
</code></pre><p>4.release</p>
<pre><code>-release
__CFDoExterRefOperation
CFBasicHashRemoveValue
(CFBasicHashRemoveValue è¿”å› 0  æ—¶ï¼Œ-release è°ƒç”¨ dealloc)


//CFRuntime.c __CFDoExterRefOperation
int __CFDoExterRefOperation(uintptr_r op, id obj) {
    CFBasicHashRef table = å–å¾—å¯¹è±¡å¯¹åº”çš„æ•£åˆ—è¡¨ï¼ˆobjï¼‰;
    int count;

    switch(op) {
        case OPERATION_retainCount:
            count = CFBasicHashGetCountOfKey(table, obj);
            return count;
        case OPERATION_retain:
            CFBasicHashAddValue(table, obj);
            return obj;
        case OPERATION_release:
            count = CFBasicHashRemoveValue(table, obj);
            return 0 == count;
    }
}
</code></pre><p>è‹¹æœçš„å®ç°å¤§æ¦‚å°±æ˜¯é‡‡ç”¨æ•£åˆ—è¡¨ï¼ˆå¼•ç”¨è®¡æ•°è¡¨ï¼‰æ¥ç®¡ç†å¼•ç”¨è®¡æ•°</p>
<p>1.GNUstep å¼•ç”¨è®¡æ•°ä¿å­˜åœ¨å¯¹è±¡å ç”¨å†…å­˜å—å¤´éƒ¨çš„å˜é‡ä¸­ï¼Œå¥½å¤„ï¼š</p>
<ul>
<li>å°‘é‡ä»£ç å³å¯å®Œæˆ</li>
<li>èƒ½å¤Ÿç»Ÿä¸€ç®¡ç†å¼•ç”¨è®¡æ•°ç”¨å†…å­˜å—ä¸å¯¹è±¡å†…å­˜å—</li>
</ul>
<p>2.è‹¹æœ     å¼•ç”¨è®¡æ•°ä¿å­˜åœ¨å¼•ç”¨è®¡æ•°è¡¨çš„è®°å½•ä¸­ï¼Œå¥½å¤„ï¼š</p>
<ul>
<li>å¯¹è±¡ç”¨å†…å­˜å—çš„åˆ†é…æ— éœ€è€ƒè™‘å†…å­˜å—å¤´éƒ¨</li>
<li>å¼•ç”¨è®¡æ•°è¡¨å„è®°å½•ä¸­å­˜æœ‰å†…å­˜å—åœ°å€ï¼Œå¯ä»å„ä¸ªè®°å½•è¿½æº¯åˆ°å„å¯¹è±¡çš„å†…å­˜å—</li>
</ul>
<p>å‡ºç°æ•…éšœå¯¼è‡´å¯¹è±¡å ç”¨çš„å†…å­˜å—æŸåï¼Œä½†åªè¦å¼•ç”¨è®¡æ•°è¡¨æ²¡æœ‰è¢«ç ´åï¼Œå°±èƒ½å¤Ÿç¡®è®¤å†…å­˜å—çš„ä½ç½®ï¼›åº”ç”¨è®¡æ•°è¡¨æœ‰åŠ©äºæ£€æµ‹å„å¯¹è±¡çš„æŒæœ‰è€…æ˜¯å¦å­˜åœ¨ã€‚</p>
<p><code>autoreleaseï¼š</code></p>
<p>ç±»ä¼¼äºCè¯­è¨€ä¸­è‡ªåŠ¨å˜é‡ï¼ˆå±€éƒ¨å˜é‡ï¼‰çš„ç‰¹æ€§ï¼ˆè‹¥æŸè‡ªåŠ¨å˜é‡è¶…å‡ºå…¶ä½œç”¨åŸŸï¼Œåˆ™å…¶è¢«è‡ªåŠ¨åºŸå¼ƒï¼‰ï¼Œè¶…å‡ºä½œç”¨åŸŸï¼Œrelease æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œä½†ç¼–ç¨‹äººå‘˜å¯ä»¥è®¾å®šå˜é‡çš„ä½œç”¨åŸŸ</p>
<p>[pool drain] ç­‰åŒäº [obj release]</p>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<p>ç”Ÿæˆå¹¶æŒæœ‰ NSAutoreleasePool<br>è°ƒç”¨å·²åˆ†é…å¯¹è±¡çš„ autorelease å®ä¾‹æ–¹æ³•<br>åºŸå¼ƒ NSAutoreleasePool å¯¹è±¡</p>
<p><code>autorelease GNUstep å®ç°ï¼š</code></p>
<pre><code>//NSObject.m
-ï¼ˆidï¼‰autorelease {
    [NSAutoreleasePool addObject:self];
}


//NSAutoreleasePool.m
+ (void)addObject:(id)anObj {
    NSAutpreleasePool *pool = å–å¾—æ­£åœ¨ä½¿ç”¨çš„NSAutoreleasePool å¯¹è±¡
    if (pool != nil) {
        [pool addObject:anObj];
    } else {
        NSLog(@&quot;NSAutoreleasePool å¯¹è±¡éå­˜åœ¨çŠ¶æ€ä¸‹è°ƒç”¨autorelease&quot;);
    }
}

- (void)addObject:(id)anObj {
    [array addObject:anObj];
}

- (void)drain {
    [self dealloc];
}
- (void)dealloc {
    [self emptyPool];
    [array release];
}
- (void)emptyPool {
    for (id obj in array) {
        [obj release];
    }
}    
</code></pre><p><code>autorelease è‹¹æœå®ç°ï¼š</code></p>
<pre><code>class AutoreleasePoolPage {
    static inline void *push() {
        //ç›¸å½“äºç”Ÿæˆæˆ–æŒæœ‰ NSAutoreleasePool ç±»å¯¹è±¡
    }
    static inline void *pop(void *token) {
        //ç›¸å½“äºåºŸå¼ƒ NSAutoreleasePool ç±»å¯¹è±¡
        releaseAll();
    }
    static inline id autorelease(id obj) {
        // ç›¸å½“äºNSAutoreleasePool ç±»çš„ addObject ç±»æ–¹æ³•
        AutoreleasePoolPage *autoreleasePoolPage = 
        å–å¾—æ­£åœ¨ä½¿ç”¨çš„ AutoreleasePoolPage å®ä¾‹ï¼›
        autpreleasePoolPage-&gt;add(obj);
    }
    id *add(id obj) {
        //å°†å¯¹è±¡è¿½åŠ åˆ°å†…éƒ¨æ•°ç»„ä¸­ï¼›            
    }
    void releaseAll {
        //è°ƒç”¨å†…éƒ¨æ•°ç»„ä¸­å¯¹è±¡çš„release å®ä¾‹æ–¹æ³•ï¼›
    }
}
void *objc_autoreleasePoolPush(void) { 
    return AutoreleasePoolPage::push();
}
void *objc_autoreleasePoolPop(void *ctxt) {
    AutoreleasePoolPage::pop(ctxt);
}
id *objc_autprelease(id obj) {
    return  AutoreleasePoolPage::autorelease(obj);
}
</code></pre><p>NSAutoreleasePool ç±»çš„ showPools ç±»æ–¹æ³•åªèƒ½åœ¨ iOS ä½¿ç”¨ã€‚åœ¨ç°åœ¨çš„è¿è¡Œæ—¶ç³»ç»Ÿä¸­ï¼Œè°ƒè¯•ä½¿ç”¨éå…¬å¼€å‡½æ•°_objc_autoreleasePoolPrint()</p>
<pre><code>// å‡½æ•°å£°æ˜
extern void _objc_autoreleasePoolPrint();

// è°ƒç”¨è¾“å‡º
_objc_autoreleasePoolPrint();
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<blockquote>
<p>å­¦ä¹ ç¬”è®° ä¸€ ä¹‹ã€ŠObjective-Cé«˜çº§ç¼–ç¨‹ iOSä¸OS Xå¤šçº¿ç¨‹å’Œå†…å­˜ç®¡ç†ã€‹</p>
</blockquote>
<h5 id="u7B2C_u4E00_u7AE0_uFF1A_u81EA_u52A8_u5F15_u7528_u8BA1_u6570"><a href="#u7B2C_u4E00_u7AE0_uFF1A_u81EA_u52A8_u5F15_u7528_u8BA1_u6570" class="headerlink" title="ç¬¬ä¸€ç« ï¼šè‡ªåŠ¨å¼•ç”¨è®¡æ•°"></a>ç¬¬ä¸€ç« ï¼šè‡ªåŠ¨å¼•ç”¨è®¡æ•°</h5><p><strong>å†…å­˜ç®¡ç†/å¼•ç”¨è®¡æ•°</strong></p>
<p><code>ARC ä½¿ç”¨æ¡ä»¶ï¼š</code></p>
<p>Xcode4.2ï¼ŒLLVM3.0ï¼Œç¼–è¯‘å™¨è®¾ç½® ARC æœ‰æ•ˆ</p>
<p><code>å¼•ç”¨è®¡æ•°ï¼š</code></p>
<p>1.è‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œè‡ªå·±æ‰€æŒæœ‰ï¼ˆallocï¼Œnewï¼Œcopyï¼ŒmutableCopyï¼ŒallocMyObjectï¼ŒnewThatObjectï¼ŒcopyThisï¼ŒmutableCopyYourObjectï¼‰:</p>
<ul>
<li>allocï¼šè‡ªå·±ç”Ÿæˆå¹¶æŒæœ‰å¯¹è±¡</li>
<li>newï¼šè‡ªå·±ç”Ÿæˆå¹¶æŒæœ‰å¯¹è±¡</li>
<li>copyï¼šåˆ©ç”¨ NSCopyingï¼Œå„ç±»å®ç° copyWithZone: ç”Ÿæˆå¹¶æŒæœ‰å¯¹è±¡çš„å‰¯æœ¬</li>
<li>mutableCopyï¼šåˆ©ç”¨ NSMutableCopying,å„ç±»å®ç° mutableCopyWithZone: ç”Ÿæˆå¹¶æŒæœ‰å¯¹è±¡çš„å‰¯æœ¬</li>
</ul>]]>
    
    </summary>
    
      <category term="Objective-Cé«˜çº§ç¼–ç¨‹ iOSä¸OS Xå¤šçº¿ç¨‹å’Œå†…å­˜ç®¡ç†" scheme="http://yoursite.com/tags/Objective-C%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B-iOS%E4%B8%8EOS-X%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/"/>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[æäº¤å¼€å‘æ•ˆç‡çš„å·¥å…·å’Œæ’ä»¶]]></title>
    <link href="http://yoursite.com/2016/02/22/%E6%8F%90%E4%BA%A4%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E7%9A%84%E5%B7%A5%E5%85%B7%E5%92%8C%E6%8F%92%E4%BB%B6/"/>
    <id>http://yoursite.com/2016/02/22/æäº¤å¼€å‘æ•ˆç‡çš„å·¥å…·å’Œæ’ä»¶/</id>
    <published>2016-02-22T10:42:25.000Z</published>
    <updated>2016-03-15T09:53:17.000Z</updated>
    <content type="html"><![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<h4 id="Xcode_u63D2_u4EF6"><a href="#Xcode_u63D2_u4EF6" class="headerlink" title="Xcodeæ’ä»¶"></a>Xcodeæ’ä»¶</h4><ul>
<li><p>1.Alcatraz,ç®¡ç†Xcodeæ’ä»¶<br><a href="https://github.com/alcatraz/Alcatraz" target="_blank" rel="external">https://github.com/alcatraz/Alcatraz</a></p>
</li>
<li><p>2.Auto-Importer,å¿«é€Ÿå¯¼å…¥å¤´æ–‡ä»¶<br><a href="https://github.com/citrusbyte/Auto-Importer-for-Xcode" target="_blank" rel="external">https://github.com/citrusbyte/Auto-Importer-for-Xcode</a></p>
</li>
<li><p>3.Backlight,é«˜äº®æ˜¾ç¤ºæ­£åœ¨ç¼–è¾‘çš„è¡Œ<br><a href="https://github.com/limejelly/Backlight-for-XCode" target="_blank" rel="external">https://github.com/limejelly/Backlight-for-XCode</a></p>
</li>
</ul>
<a id="more"></a>
<ul>
<li><p>4.DerivedData Exterminator,ä¸€é”®åˆ é™¤Derived Data<br><a href="https://github.com/kattrali/deriveddata-exterminator" target="_blank" rel="external">https://github.com/kattrali/deriveddata-exterminator</a></p>
</li>
<li><p>5.DXXcodeConsoleUnicodePlugin,è½¬æ¢ Xcode æ§åˆ¶å°ä¸­ä¸€äº›ä¸å¯é˜…è¯»çš„å­—ç¬¦ã€‚<br><a href="https://github.com/dhcdht/DXXcodeConsoleUnicodePlugin" target="_blank" rel="external">https://github.com/dhcdht/DXXcodeConsoleUnicodePlugin</a></p>
</li>
<li><p>6.FuzzyAutocompletePlugin,ä»£ç è¡¥å…¨æ”¯æŒæ¨¡ç³ŠæŸ¥è¯¢<br><a href="https://github.com/FuzzyAutocomplete/FuzzyAutocompletePlugin" target="_blank" rel="external">https://github.com/FuzzyAutocomplete/FuzzyAutocompletePlugin</a></p>
</li>
<li><p>7.GitDiff,ç®€å•ç›´è§‚çš„æ ‡è®°æœ¬æ¬¡commitä¿®æ”¹çš„éƒ¨ä½<br><a href="https://github.com/johnno1962/GitDiff" target="_blank" rel="external">https://github.com/johnno1962/GitDiff</a></p>
</li>
<li><p>8.VVDocumenter,ä¸‰é“æ æ·»åŠ æ–‡æ¡£æ³¨é‡Š<br><a href="https://github.com/onevcat/VVDocumenter-Xcode" target="_blank" rel="external">https://github.com/onevcat/VVDocumenter-Xcode</a></p>
</li>
<li><p>9.SCXcodeMiniMap,å³è¾¹æ˜¾ç¤ºå°åœ°å›¾<br><a href="https://github.com/stefanceriu/SCXcodeMiniMap" target="_blank" rel="external">https://github.com/stefanceriu/SCXcodeMiniMap</a></p>
</li>
<li><p>10.KSImageNamed,ç”¨å›¾ç‰‡æ—¶è‡ªåŠ¨æ˜¾ç¤ºå›¾ç‰‡ç¼©ç•¥å›¾<br><a href="https://github.com/ksuther/KSImageNamed-Xcode" target="_blank" rel="external">https://github.com/ksuther/KSImageNamed-Xcode</a></p>
</li>
<li><p>11.SCXcodeSwitchExpander,switchæšä¸¾çš„æ—¶å€™ä¼šè‡ªåŠ¨ç”Ÿæˆä»£ç <br><a href="https://github.com/stefanceriu/SCXcodeSwitchExpander" target="_blank" rel="external">https://github.com/stefanceriu/SCXcodeSwitchExpander</a></p>
</li>
</ul>
<h4 id="Mac_u5DE5_u5177"><a href="#Mac_u5DE5_u5177" class="headerlink" title="Macå·¥å…·"></a>Macå·¥å…·</h4><ul>
<li><p>1.Network Link Conditioner,æ¨¡æ‹Ÿä¸åŒç½‘ç¯å¢ƒ<br><a href="http://blog.csdn.net/chun799/article/details/7887377" target="_blank" rel="external">http://blog.csdn.net/chun799/article/details/7887377</a></p>
</li>
<li><p>2.Charles,Macä¸Šçš„æŠ“åŒ…å·¥å…·Charles<br><a href="http://blog.csdn.net/jiangwei0910410003/article/details/41620363" target="_blank" rel="external">http://blog.csdn.net/jiangwei0910410003/article/details/41620363</a></p>
</li>
<li><p>3.iSwift for Mac,Objective-Cè½¬æ¢Swiftä»£ç å·¥å…·<br><a href="http://www.waitsun.com/iswift-2-0.html" target="_blank" rel="external">http://www.waitsun.com/iswift-2-0.html</a></p>
</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<h4 id="Xcode_u63D2_u4EF6"><a href="#Xcode_u63D2_u4EF6" class="headerlink" title="Xcodeæ’ä»¶"></a>Xcodeæ’ä»¶</h4><ul>
<li><p>1.Alcatraz,ç®¡ç†Xcodeæ’ä»¶<br><a href="https://github.com/alcatraz/Alcatraz">https://github.com/alcatraz/Alcatraz</a></p>
</li>
<li><p>2.Auto-Importer,å¿«é€Ÿå¯¼å…¥å¤´æ–‡ä»¶<br><a href="https://github.com/citrusbyte/Auto-Importer-for-Xcode">https://github.com/citrusbyte/Auto-Importer-for-Xcode</a></p>
</li>
<li><p>3.Backlight,é«˜äº®æ˜¾ç¤ºæ­£åœ¨ç¼–è¾‘çš„è¡Œ<br><a href="https://github.com/limejelly/Backlight-for-XCode">https://github.com/limejelly/Backlight-for-XCode</a></p>
</li>
</ul>]]>
    
    </summary>
    
      <category term="å¼€å‘" scheme="http://yoursite.com/tags/%E5%BC%80%E5%8F%91/"/>
    
      <category term="æ•ˆç‡" scheme="http://yoursite.com/tags/%E6%95%88%E7%8E%87/"/>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Storyboardå¤æ‚ UI å¤„ç†æ±‡æ€»]]></title>
    <link href="http://yoursite.com/2016/01/08/Storyboard%E5%A4%8D%E6%9D%82-UI-%E5%A4%84%E7%90%86%E6%B1%87%E6%80%BB/"/>
    <id>http://yoursite.com/2016/01/08/Storyboardå¤æ‚-UI-å¤„ç†æ±‡æ€»/</id>
    <published>2016-01-08T08:47:21.000Z</published>
    <updated>2016-03-15T09:56:47.000Z</updated>
    <content type="html"><![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<p>å½“æˆ‘ä»¬åœ¨ç”¨ Storyboard è®¾è®¡ä¸€äº›å¤æ‚çš„ UI æ—¶ï¼Œæ€»è§‰å¾—ä¸æ˜¯å¾ˆå¥½å¤„ç†ï¼Œçº¦æŸä¸å¤ªå®¹æ˜“æ­£ç¡®æ·»åŠ ã€‚ä»¥ä¸‹æ˜¯æˆ‘åœ¨è¿™æ–¹é¢é‡åˆ°çš„ä¸€äº›é—®é¢˜åŠæ‰¾åˆ°çš„å¤„ç†æ–¹æ³•ï¼š</p>
<h3 id="u5728UIScrollView_u4E2D_u5D4C_u5957_u591A_u4E2ATableView_3A"><a href="#u5728UIScrollView_u4E2D_u5D4C_u5957_u591A_u4E2ATableView_3A" class="headerlink" title="åœ¨UIScrollViewä¸­åµŒå¥—å¤šä¸ªTableView:"></a>åœ¨UIScrollViewä¸­åµŒå¥—å¤šä¸ªTableView:</h3><p><a href="http://www.jianshu.com/p/bad9bde9b81e" target="_blank" rel="external">http://www.jianshu.com/p/bad9bde9b81e</a><br>æ–‡ä¸­ demo æ˜¯åŸºäº Swift è¯­è¨€åšçš„ï¼ˆè¿˜å¥½æˆ‘åˆšæŠŠ Swift è¯­æ³•çœ‹å®Œï¼Œèƒ½çœ‹æ‡‚ demo.ğŸ˜‰ï¼‰</p>
<a id="more"></a>
<p><br></p>
<font color="brown"><strong>å¯¹å…¶è¡¥å……ï¼š</strong></font>

<p>è‹¥æ˜¯é¡µé¢éœ€è¦å¯¼èˆªæ ï¼Œç¬¬ä¸€æ¬¡è¿›å…¥é¡µé¢æ—¶ï¼Œç¬¬ä¸€ä¸ª table ä¼šä¸‹é™·64ä¸ªåƒç´ ï¼Œä¸Šä¸‹æ»‘åŠ¨åˆ—è¡¨åï¼Œå›åˆ°å¯¼èˆªæ¡ä¸‹é¢çš„ä½ç½®ã€‚è€Œç¬¬äºŒä¸ªtable ä»æœ€ä¸Šé¢å‘ä¸‹æ‹‰æ—¶ï¼Œscorllview æ˜¾ç¤ºåç§» x = 0 çš„çš„ä½ç½®ã€‚<br>åœ¨ä»£ç ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œå¯è§£å†³è¿™äº›é—®é¢˜<br><br></p>
<font color="green"><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font>

<pre><code>self.edgesForExtendedLayout = UIRectEdgeNone
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<p>å½“æˆ‘ä»¬åœ¨ç”¨ Storyboard è®¾è®¡ä¸€äº›å¤æ‚çš„ UI æ—¶ï¼Œæ€»è§‰å¾—ä¸æ˜¯å¾ˆå¥½å¤„ç†ï¼Œçº¦æŸä¸å¤ªå®¹æ˜“æ­£ç¡®æ·»åŠ ã€‚ä»¥ä¸‹æ˜¯æˆ‘åœ¨è¿™æ–¹é¢é‡åˆ°çš„ä¸€äº›é—®é¢˜åŠæ‰¾åˆ°çš„å¤„ç†æ–¹æ³•ï¼š</p>
<h3 id="u5728UIScrollView_u4E2D_u5D4C_u5957_u591A_u4E2ATableView_3A"><a href="#u5728UIScrollView_u4E2D_u5D4C_u5957_u591A_u4E2ATableView_3A" class="headerlink" title="åœ¨UIScrollViewä¸­åµŒå¥—å¤šä¸ªTableView:"></a>åœ¨UIScrollViewä¸­åµŒå¥—å¤šä¸ªTableView:</h3><p><a href="http://www.jianshu.com/p/bad9bde9b81e">http://www.jianshu.com/p/bad9bde9b81e</a><br>æ–‡ä¸­ demo æ˜¯åŸºäº Swift è¯­è¨€åšçš„ï¼ˆè¿˜å¥½æˆ‘åˆšæŠŠ Swift è¯­æ³•çœ‹å®Œï¼Œèƒ½çœ‹æ‡‚ demo.ğŸ˜‰ï¼‰</p>]]>
    
    </summary>
    
      <category term="Storyboard" scheme="http://yoursite.com/tags/Storyboard/"/>
    
      <category term="UIScrollView" scheme="http://yoursite.com/tags/UIScrollView/"/>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[2016å¹´è®¡åˆ’]]></title>
    <link href="http://yoursite.com/2015/12/23/2016%E5%B9%B4%E8%AE%A1%E5%88%92/"/>
    <id>http://yoursite.com/2015/12/23/2016å¹´è®¡åˆ’/</id>
    <published>2015-12-23T04:13:56.000Z</published>
    <updated>2016-03-15T09:55:44.000Z</updated>
    <content type="html"><![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<h3 id="u77E5_u8BC6_uFF1A"><a href="#u77E5_u8BC6_uFF1A" class="headerlink" title="çŸ¥è¯†ï¼š"></a>çŸ¥è¯†ï¼š</h3><ul>
<li>é‡‘è </li>
<li>ç†è´¢</li>
</ul>
<h3 id="u6280_u672F"><a href="#u6280_u672F" class="headerlink" title="æŠ€æœ¯"></a>æŠ€æœ¯</h3><ul>
<li>ç»§ç»­å†™æ–‡ç« </li>
<li>Swift</li>
<li>Pythonï¼Œå­¦ä¹ è¿ç»´çŸ¥è¯†</li>
<li>æ‰‹è¡¨å¼€å‘ï¼ˆWatch OSï¼ŒSwiftï¼‰</li>
<li>ç ”ç©¶ OC åº•å±‚å’Œ Swift åº•å±‚ã€‚</li>
</ul>
<a id="more"></a>
<h3 id="u8BFB_u4E66"><a href="#u8BFB_u4E66" class="headerlink" title="è¯»ä¹¦"></a>è¯»ä¹¦</h3><p>è‡³å°‘æ¯æœˆ2æœ¬ä¹¦ï¼š2 * 12 = 24ï¼Œæ¯æœ¬ä¹¦éƒ½è¦å†™è¯»åæ„Ÿï¼Œæ€»ç»“</p>
<ul>
<li>æ‰‹ä¸­çš„4æœ¬æŠ€æœ¯ä¹¦</li>
<li>æ¯ä¸ªæœˆå»ä¸€æ¬¡å›¾ä¹¦é¦†ï¼Œä¸€æ¬¡å€Ÿ2æœ¬ä¹¦</li>
</ul>
<h3 id="u4EA4_u53CB"><a href="#u4EA4_u53CB" class="headerlink" title="äº¤å‹"></a>äº¤å‹</h3><p>è‡³å°‘ä¸€ä½çŸ¥å¿ƒæœ‹å‹</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<h3 id="u77E5_u8BC6_uFF1A"><a href="#u77E5_u8BC6_uFF1A" class="headerlink" title="çŸ¥è¯†ï¼š"></a>çŸ¥è¯†ï¼š</h3><ul>
<li>é‡‘è </li>
<li>ç†è´¢</li>
</ul>
<h3 id="u6280_u672F"><a href="#u6280_u672F" class="headerlink" title="æŠ€æœ¯"></a>æŠ€æœ¯</h3><ul>
<li>ç»§ç»­å†™æ–‡ç« </li>
<li>Swift</li>
<li>Pythonï¼Œå­¦ä¹ è¿ç»´çŸ¥è¯†</li>
<li>æ‰‹è¡¨å¼€å‘ï¼ˆWatch OSï¼ŒSwiftï¼‰</li>
<li>ç ”ç©¶ OC åº•å±‚å’Œ Swift åº•å±‚ã€‚</li>
</ul>]]>
    
    </summary>
    
      <category term="è®¡åˆ’" scheme="http://yoursite.com/tags/%E8%AE%A1%E5%88%92/"/>
    
      <category term="ä¸ªäºº" scheme="http://yoursite.com/categories/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[2015å¹´æ€»ç»“]]></title>
    <link href="http://yoursite.com/2015/12/23/2015%E5%B9%B4%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2015/12/23/2015å¹´æ€»ç»“/</id>
    <published>2015-12-23T04:09:53.000Z</published>
    <updated>2016-03-15T09:55:21.000Z</updated>
    <content type="html"><![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<blockquote>
<p>äººç”Ÿå¤©åœ°ä¹‹é—´,è‹¥ç™½é©¹ä¹‹è¿‡éƒ¤(éš™),å¿½ç„¶è€Œå·².â€”â€”â€”â€”ã€Šåº„å­Â·çŸ¥åŒ—æ¸¸ã€‹</p>
</blockquote>
<p><br><br>å…‰é˜´ä¼¼ç®­ï¼Œæ—¥æœˆå¦‚æ¢­ï¼Œè½¬çœ¼é—´2015å¹´ä»…å‰©å‡ ä¸ªæ—¥å¤œã€‚</p>
<p>ä»12å¹´11æœˆ29å·å¼€å§‹æ¥è§¦ iOS å¼€å‘ï¼Œåˆ°ç°åœ¨ä¹Ÿ3å¹´æ—¶é—´äº†ã€‚ä¸€ç›´æµ‘æµ‘å™©å™©çš„è¿‡ç€ä¸Šç­å·¥ä½œï¼Œä¸‹ç­ä¼‘æ¯ï¼Œæ—¢æ— æ€»ç»“ä¹Ÿæ— è§„åˆ’çš„æ—¥å­ã€‚æœ€è¿‘çªç„¶é—´æƒ³å†™å†™è‡ªå·±åœ¨15å¹´åšäº†äº›ä»€ä¹ˆï¼Œå­¦åˆ°äº†äº›ä»€ä¹ˆï¼Œå¹¶è®¡åˆ’ä¸‹ä¸‹ä¸€å¹´åº¦çš„ä»»åŠ¡å’Œç›®æ ‡ã€‚</p>
<a id="more"></a>
<h3 id="u5DE5_u4F5C"><a href="#u5DE5_u4F5C" class="headerlink" title="å·¥ä½œ"></a>å·¥ä½œ</h3><p>14å¹´12æœˆ1å·è¿›å…¥äº†ä¸€å®¶å…³äºç”Ÿæ´»ç¾å­¦æŒ‡å—çš„ç”µå•†å…¬å¸ï¼ˆä¸‹æ–‡çš„å…¬å¸ Aï¼‰ï¼Œä¸€ç›´ç»´æŠ¤ä¸€ä»½ä¹‹å‰çš„å¼€å‘äººå‘˜åœ¨12å¹´å†™çš„ä»£ç ã€‚é¡¹ç›®å¯¹ä½“éªŒè¦æ±‚æ¯”è¾ƒé«˜ï¼ˆç„¶è€Œè¿™å¹¶æœªæå‡æˆ‘ä¸ªäººçš„å®¡ç¾æ ‡å‡† à²¥_à²¥ï¼‰ï¼ŒUI è®¾è®¡å¸ˆå¯¹åšå‡ºçš„æ•ˆæœå¾ˆä¸Šå¿ƒï¼Œä¸å®¹å·®é”™ä¸€ä¸ªåƒç´ ï¼Œä½†ä¸å¯ä¸è¯´å…¶è®¾è®¡çš„æ•ˆæœæ˜¯éå¸¸æ£’çš„ã€‚</p>
<p>åœ¨Aå…¬å¸å·¥ä½œï¼Œäº†è§£åˆ°äº†ç”µå•† app çš„ç‰¹è‰²å’Œæ³¨æ„äº‹é¡¹ï¼Œå¦‚ï¼š</p>
<ul>
<li>åº“å­˜çš„è®¡ç®—æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œå°¤å…¶æ˜¯å¯¹äºé‚£äº›æœ‰å¤šä¸ªé¢œè‰²ï¼Œå¤šä¸ªå°ºå¯¸çš„å•†å“ã€‚</li>
<li>è´­ç‰©è½¦ä¸­å•†å“å¯èƒ½æœ‰å¤šä¸ªçŠ¶æ€ï¼Œæœ‰æ— åº“å­˜ï¼Œå‚ä¸å‚åŠ æ»¡å‡çš„æ´»åŠ¨ã€‚</li>
<li>ä¸‹å®Œè®¢å•åæ”¯ä»˜åçŠ¶æ€å¯èƒ½ç”±äºå„ç§åŸå› (å°¤å…¶æ˜¯ä¸ç¬¬ä¸‰æ–¹æ”¯ä»˜å¹³å°çš„å¯¹æ¥)é€ æˆæ˜¾ç¤ºä¸æ­£ç¡®</li>
</ul>
<p>å½“ç„¶ï¼Œæœ€å¤æ‚çš„é€»è¾‘è¿˜æ˜¯åœ¨åå°ï¼Œå®¢æˆ·ç«¯å±•ç¤ºä¸å‡ºå¼‚å¸¸å°±OKäº†</p>
<p>15å¹´8æœˆä»½çš„æ—¶å€™è·³æ§½è‡³ç°åœ¨æ‰€åœ¨çš„è¿™å®¶äº’è”ç½‘é‡‘èå…¬å¸ (ä¸‹æ–‡çš„å…¬å¸ B)ï¼Œå½“æ—¶å¯¹é‡‘èä¹Ÿæ˜¯æ¯”è¾ƒæ„Ÿå…´è¶£çš„ï¼Œå¸Œæœ›èƒ½è¿›å…¥åˆ°äº’è”ç½‘é‡‘èå·¥ä½œï¼Œæ‰€ä»¥ï¼Œå¯¹è¿™ä»½ offer å¾ˆæ»¡æ„ï¼ˆè™½ç„¶è–ªèµ„ä¸æ˜¯å¾ˆé«˜-_-ï¼‰ã€‚</p>
<p>åœ¨ Bå…¬å¸ï¼Œå¼€å§‹ä¹Ÿæ˜¯ç»´æŠ¤å‰è¾ˆå†™çš„é¡¹ç›®ï¼Œåšçš„åŠŸèƒ½ä¸å¤šï¼Œæ–°åŠ äº†æŒ‡çº¹è§£é”åŠŸèƒ½å’Œéƒ¨åˆ†æ—¥å¤œæ¨¡å¼åˆ‡æ¢çš„åŠŸèƒ½ã€‚</p>
<p>9æœˆä»½çš„æ—¶å€™å¼€å§‹åšæ–°é¡¹ç›®ã€‚æ–°é¡¹ç›®æ˜¯å›¢é˜Ÿåä½œï¼Œä¸ä»¥å¾€ä¸ä¸€æ ·ï¼Œä¹‹å‰åšæ–°é¡¹ç›®ï¼Œéƒ½æ˜¯è‡ªå·±ä¸€ä¸ªäººåšï¼›æ–°é¡¹ç›®ï¼Œé‡‡ç”¨äº†æ¯”è¾ƒç®€ä¾¿çš„å¯è§†åŒ–å¸ƒå±€Srotyboardï¼Œä¹‹å‰åšé¡¹ç›®ï¼Œä¸€ç›´æ˜¯ä»£ç å†™ UIã€‚æ…¢æ…¢çš„å­¦ä¼šäº†ç”¨å¯è§†åŒ–å¸ƒå±€ UI,å¹¶ä¸”å¯æ˜¯å¾ˆç†Ÿç»ƒçš„ä½¿ç”¨çº¦æŸï¼Œæ— éœ€å†™ä»£ç å°±å¯ä»¥æ§åˆ¶æ§ä»¶çš„ç›¸å¯¹ä½ç½®ï¼Œé€‚é…ä¸åŒå°ºå¯¸çš„å±å¹•ï¼Œè¿™å¯¹è‡ªå·±æ¥è¯´çœŸçœŸçš„æ˜¯å¾ˆå¤§è¿›æ­¥ã€‚è¿™å½“ç„¶ç¦»ä¸å¼€æˆ‘çš„å¥½åŒäº‹ä»¬ï¼ˆç»™ä»–ä»¬ä¸€ä¸ªå¤§å¤§çš„èµ~_~ï¼‰ã€‚</p>
<p>Bå…¬å¸çš„é¡¹ç›®éƒ½æ˜¯é‡‘èæ–¹é¢ç›¸å…³çš„ï¼Œè¿™ä»¤æˆ‘æˆ‘å­¦åˆ°äº†ä¸å°‘é‡‘èæ–¹é¢çš„çŸ¥è¯†ï¼Œå¦‚ï¼šå­¦ä¼šäº†çœ‹Kçº¿å›¾çš„è¡Œæƒ…ï¼Œå¹¶äº†è§£å®ƒæ˜¯å¦‚ä½•å®ç°ï¼ˆKçº¿ç›¸å…³çš„éƒ½æ˜¯å‰åŒäº‹åšçš„ï¼Œæˆ‘åªæ˜¯åšäº†è¿ç§»ï¼Œç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼‰ã€‚</p>
<h3 id="u4E2A_u4EBA_u53D1_u5C55"><a href="#u4E2A_u4EBA_u53D1_u5C55" class="headerlink" title="ä¸ªäººå‘å±•"></a>ä¸ªäººå‘å±•</h3><p>15å¹´å…¶å®æ²¡çœ‹å¤šå°‘ä¹¦ï¼Œç”±äºåœ¨è€ƒé¡¹ç›®ç®¡ç†æœ¬ç§‘ï¼Œä¹Ÿåªæ˜¯çœ‹äº†è€ƒè¯•ç›¸å…³çš„å‡ æœ¬ã€‚14å¹´6æœˆå¼€å§‹å‡†å¤‡åŒå¹´10æœˆä»½è€ƒè¯•ï¼Œå­¦ä¹ äº†ï¼šé¡¹ç›®é‡‡è´­å’ŒåˆåŒï¼Œé¡¹ç›®ç®¡ç†è½¯æŠ€æœ¯ï¼›15å¹´4æœˆè€ƒè¯•ï¼Œå­¦ä¹ äº†ï¼šé¡¹ç›®æ—¶é—´ç®¡ç†ï¼Œé¡¹ç›®æˆæœ¬ç®¡ç†ï¼Œä¼ä¸šé¡¹ç›®ç®¡ç†ï¼Œé¡¹ç›®ç®¡ç†å­¦ï¼›15å¹´10æœˆè€ƒè¯•ï¼Œå­¦ä¹ äº†ï¼šé¡¹ç›®é£é™©ç®¡ç†ï¼Œé¡¹ç›®èŒƒå›´ç®¡ç†ï¼Œä¸­å›½è¿‘ä»£å²</p>
<p>æŠ€æœ¯æ–¹é¢çš„ä¹¦ï¼Œçœ‹äº†å”å·§çš„ã€ŠiOSå¼€å‘è¿›é˜¶ã€‹çš„ pdf ç‰ˆã€‚ä»¥å‰ä¹Ÿä¸æ€ä¹ˆçœ‹çº¸è´¨ç‰ˆçš„ä¹¦ï¼Œä¹°äº†æœ‰3ï¼Œ4æœ¬çš„iOS å¼€å‘ç›¸å…³çš„ä¹¦ï¼ŒåŸºæœ¬æ²¡æ€ä¹ˆè®¤çœŸçš„ç¿»é˜…è¿‡ã€‚æ•…æ‰“ç®—åœ¨16å¹´å…ˆæŠŠæ‰‹é‡Œæœ‰çš„ä¹¦æœ¬ä»å¤´åˆ°å°¾ç¿»é˜…ä¸€éã€‚</p>
<p>15å¹´9æœˆå¼€å§‹å†™æ–‡ç« ï¼Œè®°å½•è‡ªå·±åœ¨å·¥ä½œè¿‡ç¨‹ä¸­çš„ä¸€äº›é—®é¢˜å’Œè§£å†³è¿‡ç¨‹ã€‚</p>
<h3 id="u56DE_u987E_u603B_u7ED3"><a href="#u56DE_u987E_u603B_u7ED3" class="headerlink" title="å›é¡¾æ€»ç»“"></a>å›é¡¾æ€»ç»“</h3><p>å·¥ä½œè¿™äº›å¹´ï¼Œä¹Ÿæ²¡æ€ä¹ˆå¥½å¥½çš„æ€»ç»“è¿‡ï¼Œç°åœ¨å›é¡¾ä¸‹ï¼Œæ„Ÿè§‰è‡ªå·±åªæ˜¯ç™½ç™½æ·»äº†å²æ•°ï¼Œæµªè´¹äº†ä¸€å¹´åˆçš„å…‰é˜´ã€‚æ‰€ä»¥ï¼Œè®¡åˆ’16å¹´å¤šè¯»ç‚¹ä¹¦ï¼Œå¤šå­¦ç‚¹æŠ€æœ¯ï¼Œé¡ºä¾¿è¦æ”¹å˜ä¸‹è‡ªå·±çš„æ€§æ ¼ï¼Œè‡³å°‘äº¤ä¸€ä½çŸ¥å¿ƒçš„æœ‹å‹ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<blockquote>
<p>äººç”Ÿå¤©åœ°ä¹‹é—´,è‹¥ç™½é©¹ä¹‹è¿‡éƒ¤(éš™),å¿½ç„¶è€Œå·².â€”â€”â€”â€”ã€Šåº„å­Â·çŸ¥åŒ—æ¸¸ã€‹</p>
</blockquote>
<p><br><br>å…‰é˜´ä¼¼ç®­ï¼Œæ—¥æœˆå¦‚æ¢­ï¼Œè½¬çœ¼é—´2015å¹´ä»…å‰©å‡ ä¸ªæ—¥å¤œã€‚</p>
<p>ä»12å¹´11æœˆ29å·å¼€å§‹æ¥è§¦ iOS å¼€å‘ï¼Œåˆ°ç°åœ¨ä¹Ÿ3å¹´æ—¶é—´äº†ã€‚ä¸€ç›´æµ‘æµ‘å™©å™©çš„è¿‡ç€ä¸Šç­å·¥ä½œï¼Œä¸‹ç­ä¼‘æ¯ï¼Œæ—¢æ— æ€»ç»“ä¹Ÿæ— è§„åˆ’çš„æ—¥å­ã€‚æœ€è¿‘çªç„¶é—´æƒ³å†™å†™è‡ªå·±åœ¨15å¹´åšäº†äº›ä»€ä¹ˆï¼Œå­¦åˆ°äº†äº›ä»€ä¹ˆï¼Œå¹¶è®¡åˆ’ä¸‹ä¸‹ä¸€å¹´åº¦çš„ä»»åŠ¡å’Œç›®æ ‡ã€‚</p>]]>
    
    </summary>
    
      <category term="æ€»ç»“" scheme="http://yoursite.com/tags/%E6%80%BB%E7%BB%93/"/>
    
      <category term="ä¸ªäºº" scheme="http://yoursite.com/categories/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ä½¿ç”¨ hexo æ­å»ºåšå®¢]]></title>
    <link href="http://yoursite.com/2015/12/23/%E4%BD%BF%E7%94%A8-Hexo-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2015/12/23/ä½¿ç”¨-Hexo-æ­å»ºåšå®¢/</id>
    <published>2015-12-23T03:39:45.000Z</published>
    <updated>2016-03-15T09:55:55.000Z</updated>
    <content type="html"><![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<h4 id="u914D_u7F6E_u73AF_u5883"><a href="#u914D_u7F6E_u73AF_u5883" class="headerlink" title="é…ç½®ç¯å¢ƒ"></a>é…ç½®ç¯å¢ƒ</h4><p> å®‰è£… homebrewï¼š</p>
<pre><code>ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
</code></pre><p>å®‰è£…node.jsï¼š</p>
<pre><code>brew install node
</code></pre><p>å®‰è£… hexo:</p>
<pre><code>npm install hexo -g
</code></pre><a id="more"></a>
<p>æ‰§è¡Œinitå‘½ä»¤åˆå§‹åŒ–hexoåˆ°ä½ æŒ‡å®šçš„ç›®å½•</p>
<pre><code>hexo init &lt;folder&gt;
</code></pre><p>è¿›å…¥æ–‡ä»¶å¤¹</p>
<pre><code>cd &lt;folder&gt;
</code></pre><p>ç„¶åè¿è¡Œ</p>
<pre><code>npm install //è¿™å¥åº”è¯¥ç”¨ä¸åˆ°
</code></pre><p>è‡ªåŠ¨æ ¹æ®å½“å‰ç›®å½•ä¸‹æ–‡ä»¶,ç”Ÿæˆé™æ€ç½‘é¡µ</p>
<pre><code>hexo generate
</code></pre><p>è¿è¡Œæœ¬åœ°æœåŠ¡</p>
<pre><code>hexo server 
</code></pre><p>Doneï¼<br><a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a></p>
<p>//åœæ­¢æœ¬åœ°æœåŠ¡ï¼šPress Ctrl+C to stop</p>
<p><br></p>
<h4 id="u6DFB_u52A0_u6587_u7AE0"><a href="#u6DFB_u52A0_u6587_u7AE0" class="headerlink" title="æ·»åŠ æ–‡ç« "></a>æ·»åŠ æ–‡ç« </h4><p>åˆ›å»ºæ–‡ç« æ–‡ä»¶å</p>
<pre><code>hexo new &quot;&quot;
</code></pre><p>ç”Ÿæˆé™æ€ç½‘é¡µ</p>
<pre><code>hexo generate
</code></pre><p>è¿è¡Œæœ¬åœ°æœåŠ¡</p>
<pre><code>hexo server
</code></pre><h3 id="u90E8_u7F72_u5230_Github"><a href="#u90E8_u7F72_u5230_Github" class="headerlink" title="éƒ¨ç½²åˆ° Github"></a>éƒ¨ç½²åˆ° Github</h3><p>è¿™ç¯‡æ–‡ç« å¾ˆè¯¦ç»†<br><a href="http://jingyan.baidu.com/article/d8072ac47aca0fec95cefd2d.html" target="_blank" rel="external">http://jingyan.baidu.com/article/d8072ac47aca0fec95cefd2d.html</a></p>
<h6 id="u5173_u952E_u5DE5_u4F5C"><a href="#u5173_u952E_u5DE5_u4F5C" class="headerlink" title="å…³é”®å·¥ä½œ"></a>å…³é”®å·¥ä½œ</h6><p>é…ç½® _config.yml æ–‡ä»¶</p>
<pre><code>deploy:
 type: git
 repository: https://github.com/XXXXXX/XXXXXX.github.io.git
 branch: master
</code></pre><p>ç”Ÿæˆç½‘é¡µ</p>
<pre><code>hexo generate
</code></pre><p>éƒ¨ç½²</p>
<pre><code>hexo deploy
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<h4 id="u914D_u7F6E_u73AF_u5883"><a href="#u914D_u7F6E_u73AF_u5883" class="headerlink" title="é…ç½®ç¯å¢ƒ"></a>é…ç½®ç¯å¢ƒ</h4><p> å®‰è£… homebrewï¼š</p>
<pre><code>ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
</code></pre><p>å®‰è£…node.jsï¼š</p>
<pre><code>brew install node
</code></pre><p>å®‰è£… hexo:</p>
<pre><code>npm install hexo -g
</code></pre>]]>
    
    </summary>
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
      <category term="æ•™ç¨‹" scheme="http://yoursite.com/categories/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello World]]></title>
    <link href="http://yoursite.com/2015/12/23/hello-world/"/>
    <id>http://yoursite.com/2015/12/23/hello-world/</id>
    <published>2015-12-23T03:13:33.000Z</published>
    <updated>2016-03-14T04:24:39.000Z</updated>
    <content type="html"><![CDATA[<p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<a id="more"></a>
<h2 id="Quick_Start"><a href="#Quick_Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create_a_new_post"><a href="#Create_a_new_post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server"><a href="#Run_server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files"><a href="#Generate_static_files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites"><a href="#Deploy_to_remote_sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Welcome to <a href="http://hexo.io/">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>]]>
    
    </summary>
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
      <category term="æ•™ç¨‹" scheme="http://yoursite.com/categories/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[NSLayoutConstraint çš„å¦™ç”¨(è´µé‡‘å±ï¼‰]]></title>
    <link href="http://yoursite.com/2015/12/22/NSLayoutConstraint-%E7%9A%84%E5%A6%99%E7%94%A8-%E8%B4%B5%E9%87%91%E5%B1%9E%EF%BC%89/"/>
    <id>http://yoursite.com/2015/12/22/NSLayoutConstraint-çš„å¦™ç”¨-è´µé‡‘å±ï¼‰/</id>
    <published>2015-12-22T04:01:35.000Z</published>
    <updated>2016-03-15T09:56:30.000Z</updated>
    <content type="html"><![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<p>è´µé‡‘å±é¡¹ç›®ï¼Œæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ storyboard å¼€å‘ï¼Œä»¥ä¸‹æ˜¯åˆæ¬¡æ¥è§¦ NSLayoutConstraintï¼Œé‡åˆ°çš„é—®é¢˜ï¼š</p>
<a id="more"></a>
<h4 id="u95EE_u98981_uFF1A"><a href="#u95EE_u98981_uFF1A" class="headerlink" title="é—®é¢˜1ï¼š"></a>é—®é¢˜1ï¼š</h4><p>ç”¨ storyboard æ­å»ºçš„ UIï¼Œåœ¨ tableView çš„ header ä¸­çš„æ§ä»¶çš„é«˜åº¦æ˜¯ä¸å›ºå®šçš„ï¼Œæ¡ä»¶1ä¸‹æ§ä»¶é«˜90ï¼Œæ¡ä»¶2ä¸‹æ§ä»¶é«˜45,æ‰€ä»¥å°±è€ƒè™‘ç”¨ä»£ç æ§åˆ¶æ§ä»¶çš„é«˜åº¦ã€‚</p>
<p>åœ¨ç”¨ä»£ç è®¾ç½®äº†æ§ä»¶çš„é«˜åº¦å’Œ header çš„é«˜åº¦åï¼Œå‘ç°æ•ˆæœå¹¶éå¦‚é¢„æœŸæ‰€æƒ³ã€‚åœ¨ storyboard é‡Œé¢è®¾ç½®äº†90ï¼Œåœ¨ä»£ç ä¸­è®¾ç½®äº†45ï¼Œæ˜¾ç¤ºæ—¶è¿˜æ˜¯90ï¼Œä»£ç æ›´æ”¹é«˜åº¦æ²¡å˜åŒ–ã€‚</p>
<p><font color="brown"><strong>åŸå› ï¼š</strong></font>UIButton çš„ buttonType<br>åœ¨ storyboard é‡Œé¢è®¾ç½®äº†æ§ä»¶çš„é«˜åº¦ï¼Œå¹¶ä¸”æ·»åŠ äº†çº¦æŸï¼Œå…¶ä¸­ä¾¿æœ‰é«˜åº¦çš„çº¦æŸï¼Œçº¦æŸæœ‰äº†ï¼Œä»£ç æ›´æ”¹æ§ä»¶çš„é«˜åº¦ï¼Œå¹¶ä¸ä¼šæœ‰æ•ˆæœã€‚</p>
<p><font color="green"><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font><br>NSLayoutConstraint æ˜¯å¯ä»¥è®¾ç½®æˆå±æ€§çš„ï¼Œåœ¨ storyboard ä¸­æ·»åŠ æ§ä»¶é«˜åº¦çº¦æŸçš„å±æ€§çš„è¿çº¿ï¼Œè¿æ¥åˆ°ç›¸å¯¹åº”çš„æ–‡ä»¶ä¸­ã€‚åœ¨æ–‡ä»¶ä¸­æ›´æ”¹è¯¥å±æ€§çš„å€¼ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code>@property (weak, nonatomic) IBOutlet NSLayoutConstraint *surplusHeightLayout;


self.surplusHeightLayout.constant = 45;
</code></pre><h4 id="u95EE_u98982_uFF1A"><a href="#u95EE_u98982_uFF1A" class="headerlink" title="é—®é¢˜2ï¼š"></a>é—®é¢˜2ï¼š</h4><p>ç”¨ storyboard æ­å»ºçš„ UIï¼Œæ§ä»¶ä¹‹é—´æœ‰åˆ†å‰²çº¿ï¼ŒUIè®¾è®¡å¸ˆè®¾è®¡çš„æ˜¯1åƒç´ ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®0.5é«˜ã€‚ä½†æ˜¯åœ¨Xcode7 çš„ storyboard ä¸­æ— æ³•è®¾ç½®å¸¦æœ‰â€.5â€çš„æ•°å­—ã€‚è™½ç„¶å¯ä»¥åƒä¸Šé¢çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆé‚£æ ·å¤„ç†ï¼Œå¯ä»¥è¾¾åˆ°æ•ˆæœï¼Œä½†æ˜¯åˆ†å‰²çº¿å¤ªå¤šï¼Œé‚£æ ·å¤„ç†å·¥ä½œé‡å¤ªå¤§ï¼Œè¿˜ä¼šæœ‰å¾ˆå¤šå†—ä½™çš„ä»£ç ã€‚</p>
<p><font color="green"><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font><br> åˆ›å»º NSLayoutConstraint çš„å­ç±»NSLayoutConstraintHairlineï¼Œåœ¨.m ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code>- (void)awakeFromNib {
    [super awakeFromNib];
    if (self.constant == 1) {
       self.constant = 0.5/[UIScreen mainScreen].scale;
    }
}
</code></pre><p>åœ¨ storyboard ä¸­è®¾ç½®åˆ†å‰²çº¿çš„é«˜ä¸ºä»»æ„å€¼ï¼Œé€‰ä¸­åˆ†å‰²çº¿çš„é«˜çš„çº¦æŸï¼Œä¿®æ”¹å…¶ç±»å‹NSLayoutConstraintä¸ºåˆ›å»ºçš„NSLayoutConstraintHairlineå³å¯è¾¾åˆ°ç›®çš„ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<p>è´µé‡‘å±é¡¹ç›®ï¼Œæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ storyboard å¼€å‘ï¼Œä»¥ä¸‹æ˜¯åˆæ¬¡æ¥è§¦ NSLayoutConstraintï¼Œé‡åˆ°çš„é—®é¢˜ï¼š</p>]]>
    
    </summary>
    
      <category term="è´µé‡‘å±" scheme="http://yoursite.com/tags/%E8%B4%B5%E9%87%91%E5%B1%9E/"/>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Bug å°è®°ï¼ˆè´µé‡‘å±ï¼‰]]></title>
    <link href="http://yoursite.com/2015/11/20/Bug-%E5%B0%8F%E8%AE%B0%EF%BC%88%E8%B4%B5%E9%87%91%E5%B1%9E%EF%BC%89/"/>
    <id>http://yoursite.com/2015/11/20/Bug-å°è®°ï¼ˆè´µé‡‘å±ï¼‰/</id>
    <published>2015-11-20T03:13:33.000Z</published>
    <updated>2016-03-15T11:52:10.000Z</updated>
    <content type="html"><![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<p>æœ€è¿‘åœ¨ä¿®å¤ APP çš„ Bugï¼Œé‡åˆ°äº†å‡ ä¸ªå› å¯¹ SDK ä¸ç†Ÿ é€ æˆçš„ Bugã€‚å¦‚ä¸‹ï¼š<br><br></p>
<a id="more"></a>
<p><strong>Bug1ï¼šç‚¹å‡»è·å–éªŒè¯ç åï¼Œæ²¡æœ‰è¿›è¡Œå€’è®¡æ—¶ï¼Œä¸”ä¸èƒ½å†æ¬¡ç‚¹å‡»</strong></p>
<p>ä½¿ç”¨ GCD å†™çš„å€’è®¡æ—¶ï¼Œæºä»£ç ï¼š</p>
<pre><code>_isCountDown = YES;
__block int timeout=kCountdownTime; //å€’è®¡æ—¶æ—¶é—´
dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
dispatch_source_t _timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0,queue);
dispatch_source_set_timer(_timer,dispatch_walltime(NULL, 0),1.0*NSEC_PER_SEC, 0); //æ¯ç§’æ‰§è¡Œ
dispatch_source_set_event_handler(_timer, ^{
    if(timeout&lt;=0){ //å€’è®¡æ—¶ç»“æŸï¼Œå…³é—­
        dispatch_source_cancel(_timer);
        dispatch_async(dispatch_get_main_queue(), ^{
            [self.getSmsCodeBtn setTitle:@&quot;é‡æ–°è·å–&quot; forState:UIControlStateNormal];

            [self.getSmsCodeBtn setTitleColor:ColorWithHexString(GJS_COLOR_LOGINBTN_AVAILABLE_NORMAL) forState:UIControlStateNormal];

            [self.getSmsCodeBtn setEnabled:YES];
            _isCountDown = NO;
        });
    }else{
        NSString *strTime = [NSString stringWithFormat:@&quot;%dsåé‡å‘&quot;,timeout];
        dispatch_async(dispatch_get_main_queue(), ^{
            [self.getSmsCodeBtn setTitle:strTime forState:UIControlStateNormal];

            [self.getSmsCodeBtn setTitleColor:ColorWithHexString(GJS_COLOR_GETCODEBTN_UNAVAILABLE) forState:UIControlStateNormal];
        });
        timeout--;

    }
});
dispatch_resume(_timer);
</code></pre><p>å¦‚ä¸Šæ‰€ç¤ºçš„æºç ï¼Œåœ¨ iOS7 ä¸Šå€’è®¡æ—¶æŒ‰é’®ä¸Šçš„æ–‡å­—ä¸ä¼šå˜åŒ–ï¼Œåœ¨ iOS 8,iOS9 ä¸Šéƒ½æ˜¯æ²¡é—®é¢˜çš„ï¼Œæˆ‘ä¹Ÿéƒé—·äº†å¾ˆä¹…ã€‚å„ç§ç™¾åº¦æœªæœåè½¬å‘ Google,ä¹Ÿæœ‰äººé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œä½†æ˜¯åªæœç´¢åˆ°ä¸€ç¯‡çœŸæ­£èƒ½è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–‡ç«  <a href="http://blog.csdn.net/zhangyanshen/article/details/46910515" title="http://blog.csdn.net/zhangyanshen/article/details/46910515" target="_blank" rel="external">http://blog.csdn.net/zhangyanshen/article/details/46910515</a></p>
<font color="green"><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font>

<pre><code>[sendAuthCodeBtn setTitle:@&quot;å‘é€éªŒè¯ç &quot; forState:UIControlStateDisabled]; 
</code></pre><p>å…³é”®åœ¨äºè¿™è¡Œä»£ç ã€‚è®¾ç½®äº†ç¦ç”¨çŠ¶æ€ä¸‹çš„æ–‡å­—ã€‚é¡ºåˆ©è§£å†³äº† è¿™ä¸ª Bugã€‚<br><br></p>
<p><strong>Bug2ï¼šå€’è®¡æ—¶ UIButton ä¸Šçš„æ–‡å­—å˜æ›´ä¼šæœ‰é—ªçƒæ•ˆæœ</strong></p>
<p>UIButton è®¾ç½® titleæ—¶ä¼šé—ªçƒã€‚</p>
<font color="brown"><strong>åŸå› ï¼š</strong></font>UIButton çš„ buttonType æ˜¯ System ç±»å‹æ—¶ä¼šå‡ºç°è¯¥ç§é—®é¢˜<br><br><font color="green"><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font>UIButton çš„ buttonType è®¾ç½®ä¸º Custom ç±»å‹æ—¶ä¸ä¼šå‡ºç°é—ªçƒã€‚<br><br><br><br><strong>Bug3ï¼šåœ¨å·¥ç¨‹ä¸­æ·»åŠ plist æ–‡ä»¶ï¼Œç”¨ä»£ç å¯¹å…¶è¿›è¡Œå†™å…¥æ“ä½œï¼Œåœ¨æ¨¡æ‹Ÿå™¨ä¸­æŒ‰ä»£ç æ‰§è¡Œï¼Œä½†åœ¨çœŸæœºä¸Šplistä¸­å†…å®¹æœªæ”¹å˜</strong><br><br>plist æ–‡ä»¶ä¸­æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…ƒç´ æ˜¯å¤šä¸ªå­—å…¸ï¼Œåœ¨æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œä¸€åˆ‡æ­£å¸¸ï¼Œä½†æµ‹è¯•äººå‘˜ç”¨çœŸæœºæµ‹è¯•æ—¶å‘ç°é—®é¢˜ï¼Œæ— æ³•å†™å…¥åˆ° plist æ–‡ä»¶ä¸­ã€‚<br><br><font color="brown"><strong>åŸå› ï¼š</strong></font> æ‰“åŒ…åœ¨ ipa çš„æ–‡ä»¶æ˜¯æ— æ³•æ›´æ”¹çš„ã€‚ä¸€å¥è¯ï¼šæ— æƒé™ä¿®æ”¹ï¼ˆçŸ¥é“çœŸç›¸çš„æˆ‘çœ¼æ³ªæ‰ä¸‹æ¥~)ï¼Œåªå¯è¿›è¡Œè¯»å–æ“ä½œã€‚<br><br><font color="green"><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font>åœ¨ app å¯åŠ¨çš„æ—¶å€™åˆ¤æ–­æ˜¯å¦åœ¨ Document æ–‡ä»¶å¤¹ä¸‹å­˜åœ¨ç›¸åŒçš„ plsit æ–‡ä»¶ã€‚ ä¸å­˜åœ¨ï¼Œè·å–æ²™ç›’ä¸‹ plist æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œå¹¶å†™å…¥Document æ–‡ä»¶å¤¹ä¸‹çš„ plsit æ–‡ä»¶ã€‚å­˜åœ¨åˆ™ä¸åšä»»ä½•å¤„ç†ã€‚ï¼ˆä¹‹æ‰€ä»¥é€‰æ‹©è¿™ç§æ–¹å¼è€Œä¸é€‰æ‹©ç›´æ¥å°†å†…å®¹ç”¨ä»£ç å†™å…¥ Document æ–‡ä»¶å¤¹ä¸‹æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯å› ä¸ºä¸ªäººè®¤ä¸ºåœ¨å¼€å‘æ—¶æ–¹ä¾¿å¯¹å·¥ç¨‹ä¸­plsit æ–‡ä»¶å†…å®¹çš„æ›´æ”¹ï¼‰<br><br><br><br><font color="pinkw"><strong>æ›´æ–°æ—¶é—´ï¼š2016å¹´1æœˆ20æ—¥</strong></font>

<p><strong>Bug1ï¼šè¿›å…¥æŸä¸ªé¡µé¢ï¼ŒAppå´©æºƒï¼Œå´©æºƒåŸå› æ˜¯ï¼š[NSCFType set]: unrecognized selector sent to instance 0x4d80b00â€™</strong></p>
<font color="brown"><strong>åŸå› ï¼š</strong></font> åœ¨æ–°é¡µé¢ä½¿ç”¨äº†NSMutableAttributedStringï¼Œä½¿ç”¨æ–¹å¼å¯¼è‡´äº†å´©æºƒï¼Œç›®å‰æ— æ³•è§£é‡Šï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š<br><br><br><code>NSMutableAttributedString *attriString =     [[NSMutableAttributedString alloc] initWithString:prodNameStr];
    [attriString addAttribute:NSFontAttributeName value:[UIFont systemFontOfSize:16.0] range:NSMakeRange(2, 2)];
    [attriString addAttribute:NSForegroundColorAttributeName value:[UIColor redColor] range:NSMakeRange(2, 2)];</code><br><br><br><br><font color="green"><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font>


<pre><code>NSMutableAttributedString *attriString = [[NSMutableAttributedString alloc] initWithString:prodNameStr];
[attriString setAttributes:@{NSFontAttributeName : [UIFont systemFontOfSize:12.0], NSForegroundColorAttributeName:ColorWithHexString(GJS_COLOR_TEXT_GRAY)} range:NSMakeRange(prodNameStr.length - time.length, time.length)];`
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<p>æœ€è¿‘åœ¨ä¿®å¤ APP çš„ Bugï¼Œé‡åˆ°äº†å‡ ä¸ªå› å¯¹ SDK ä¸ç†Ÿ é€ æˆçš„ Bugã€‚å¦‚ä¸‹ï¼š<br></br></p>]]>
    
    </summary>
    
      <category term="Bug" scheme="http://yoursite.com/tags/Bug/"/>
    
      <category term="è´µé‡‘å±" scheme="http://yoursite.com/tags/%E8%B4%B5%E9%87%91%E5%B1%9E/"/>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[æŒ‡çº¹è§£é”]]></title>
    <link href="http://yoursite.com/2015/09/16/%E6%8C%87%E7%BA%B9%E8%A7%A3%E9%94%81/"/>
    <id>http://yoursite.com/2015/09/16/æŒ‡çº¹è§£é”/</id>
    <published>2015-09-16T03:39:45.000Z</published>
    <updated>2016-03-15T09:56:06.000Z</updated>
    <content type="html"><![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<p>iOS8 æŒ‡çº¹è§£é”çš„APIï¼Œ<a href="http://www.bubuko.com/infodetail-726115.html" target="_blank" rel="external">è¿™ç¯‡æ–‡ç« </a>è§£é‡Šçš„éå¸¸æ¸…æ¥šã€‚  </p>
<p>æœ¬æ–‡ä¸»è¦é’ˆå¯¹åœ¨å®é™…ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼Œå‡å®šå·²ç»äº†è§£æŒ‡çº¹è§£é”APIï¼Œå¦‚ä¸äº†è§£API,è¯·å…ˆç§»æ­¥<a href="http://www.bubuko.com/infodetail-726115.html" target="_blank" rel="external">æŒ‡çº¹è§£é”çš„APIè¯´æ˜</a></p>
<p>é¡¹ç›®ä¹‹å‰ä¸€ç›´ä½¿ç”¨çš„æ˜¯æ‰‹åŠ¿å¯†ç ï¼Œè¿‘æ¥è¦å¢åŠ  iOS8 æ–°å‡ºçš„æŒ‡çº¹è§£é”åŠŸèƒ½ã€‚éœ€æ±‚æ˜¯åœ¨è®¾ç½®ä¸­æ·»åŠ æŒ‡çº¹è§£é”å¼€å…³ </p>
<a id="more"></a>
<h4 id="u95EE_u98981_uFF1A"><a href="#u95EE_u98981_uFF1A" class="headerlink" title="é—®é¢˜1ï¼š"></a>é—®é¢˜1ï¼š</h4><p>åœ¨ä¸ªäººè®¾ç½®é‡Œé¢ï¼Œæ·»åŠ æŒ‡çº¹è§£é”å¼€å…³é¡¹ï¼Œæ­¤é¡¹ä»…åœ¨æ”¯æŒTouchID çš„è®¾å¤‡ä¸­å‡ºç°<br>å¾ˆå¥½ï¼Œç™¾åº¦äº†ä¸‹ï¼Œå¾—åˆ°äº†å¦‚ä¸‹è§£å†³æ–¹æ¡ˆ  </p>
<font color="green"><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font>


<pre><code>LAContext *context = [LAContext new];
NSError *error = [NSError new];
BOOL isAvailable = [context canEvaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics error:&amp;error];
</code></pre><p>è¿™æ˜¯apiç»™å‡ºçš„åˆ¤æ–­TouchIDæ˜¯å¦å¯ç”¨çš„æ–¹æ³•ï¼ŒisAvailable == Yes è¯´æ˜ TouchID å¯ç”¨ï¼Œåä¹‹ï¼Œåˆ™ä¸å¯ç”¨ã€‚<br>ä½†æ˜¯ï¼Œå½“æˆ‘æ»¡å¿ƒæ¬¢å–œçš„ä½¿ç”¨çš„æ—¶å€™ï¼Œé—®é¢˜æ¥äº†</p>
<h4 id="u95EE_u98982_uFF1A"><a href="#u95EE_u98982_uFF1A" class="headerlink" title="é—®é¢˜2ï¼š"></a>é—®é¢˜2ï¼š</h4><p>åœ¨6 Plusï¼Œæœªè®¾ç½®æ‰‹æœºè§£é”å¯†ç æˆ–æ²¡æœ‰å¯ç”¨çš„æŒ‡çº¹æ—¶ï¼Œç”¨ä¸Šé¢çš„æ–¹æ³•åˆ¤æ–­ isAvailable == No,ç¬é—´å¿ƒéƒ½ç¢äº†ã€‚<br>è¿™é‡Œä¾ç„¶æœ‰è§£å†³æ–¹æ¡ˆ</p>
<font color="green"><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font>

<pre><code>if (!isAvailable) {
    NSString *str = nil;
    switch (error.code) {
           case LAErrorTouchIDNotEnrolled://æ— å¯ç”¨æŒ‡çº¹

        case LAErrorPasscodeNotSet://è®¾å¤‡æœªå¼€å¯å¯†ç 
        {
            isAvailable = YES;
            break;
        }
        case LAErrorTouchIDNotAvailable:
        default:
        {
            isAvailable = NO;
            break;
        }

    }
}
</code></pre><p>è™½ç„¶ä¾ç„¶æŠŠè¿™ä¸ªé—®é¢˜è§£å†³äº†ã€‚butï¼Œåˆäº§ç”Ÿäº†æ–°çš„é—®é¢˜ã€‚</p>
<h4 id="u95EE_u98983_uFF1A"><a href="#u95EE_u98983_uFF1A" class="headerlink" title="é—®é¢˜3ï¼š"></a>é—®é¢˜3ï¼š</h4><p>ä½¿ç”¨ä¸Šè¿°æ–¹æ³•ï¼Œåœ¨ iPod Touch ç­‰ä¸æ”¯æŒ TouchID çš„è®¾å¤‡ï¼Œæœªè®¾ç½®æ‰‹æœºè§£é”å¯†ç æƒ…å†µä¸‹è¿è¡Œæ—¶ï¼Œè®¾ç½®ä¸­çš„æŒ‡çº¹è§£é”å¼€å…³é¡¹å±…ç„¶å‡ºç°äº†ã€‚</p>
<p>å•æ­¥è°ƒè¯•ä¹‹ï¼Œåœ¨ error.code çš„ switch ä¸­ï¼Œè¿›å…¥çš„æ˜¯ case LAErrorPasscodeNotSet://è®¾å¤‡æœªå¼€å¯å¯†ç ï¼Œæ‰§è¡Œäº†isAvailable = YES;ã€‚ç„¶ï¼Œå¤§èƒ†çŒœæµ‹ä¹‹ï¼Œapi å±…ç„¶å…ˆåˆ¤æ–­çš„æ˜¯æœ‰æ²¡æœ‰å¼€å¯å¯†ç è€Œä¸æ˜¯è®¾å¤‡ç±»å‹å’Œæˆ–ç³»ç»Ÿæ˜¯å¦æ”¯æŒï¼Œè¿™ä½¿æˆ‘å½»åº•æ— è¯­~~~~</p>
<p>æ­¤æ—¶ï¼Œæˆ‘å†ä¹Ÿä¸ç›¸ä¿¡APIäº†ï¼Œæœæ–­è‡ªå·±å†™åˆ¤æ–­å§ã€‚</p>
<font color="green"><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font>


<pre><code>// ç¡¬ä»¶è®¾å¤‡ä¸æ”¯æŒï¼Œæˆ–ç³»ç»Ÿç‰ˆæœ¬ä¸æ”¯æŒ æŒ‡çº¹è§£é”
if (![Utils isSystemModelSupportTouchID] || ![Utils isSystemVersionMoreThanVersion:7.0]) {
    return NO;
}

LAContext *context = [LAContext new];
NSError *error = [NSError new];
BOOL isDeviceSupportTouchId = [context canEvaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics error:&amp;error];

if (!isDeviceSupportTouchId) {

    //ä¸æ”¯æŒæŒ‡çº¹è¯†åˆ«

    switch (error.code) {

        case LAErrorTouchIDNotEnrolled:

        case LAErrorPasscodeNotSet:
        {
            isDeviceSupportTouchId = YES;
            break;
        }
        case LAErrorTouchIDNotAvailable:
        default:
        {
            isDeviceSupportTouchId = NO;
            break;
        }
    }
}


return isDeviceSupportTouchId;
</code></pre><p>ç¡¬ä»¶è®¾å¤‡åˆ¤æ–­ä¸ŠèŠ±äº†ä¸€å°ç‚¹åŠŸå¤«ï¼Œç‰ˆæœ¬åˆ¤æ–­æ˜¾ç„¶å¾ˆç®€å•ã€‚</p>
<p><strong>ç¡¬ä»¶è®¾å¤‡åˆ¤æ–­æ€è·¯ï¼š</strong></p>
<p>1.è·å–è®¾å¤‡ç±»å‹å­—ç¬¦ä¸²ï¼Œå¦‚iPhone 5c,iPhone 6ï¼›<br>2.åˆ¤æ–­è®¾å¤‡ç±»å‹å­—ç¬¦ä¸²æ˜¯åŒ…å«iPhone ,iPod , iPadï¼Œæ˜¯iPhone åˆ™æˆªå–è®¾å¤‡ç±»å‹å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä½æ•°å­—ï¼ŒiPad æœ‰åˆ†mini å’ŒAir, æˆªå–è®¾å¤‡ç±»å‹å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä½æ•°å­—ï¼Œç„¶åæ•°å­—å¯¹æ¯”åˆ¤æ–­æ˜¯å¦æ”¯æŒTouchIDã€‚</p>
<p>è‡³æ­¤ï¼ŒTouchID å‘Šä¸€æ®µè½ï¼åœ¨æ­¤ï¼Œé™„ä¸Šæœ¬æ–‡ä¸­çš„ Demo åœ°å€ï¼š<a href="https://github.com/mohuifen/LRFFingerPrintManager" target="_blank" rel="external">LRFFingerPrintManager</a>,æ¬¢è¿å„ä½è¯»è€…æœ‹å‹æå‡ºå»ºè®®ã€‚ã€‚</p>
<p><br></p>
<hr>
<hr>
<hr>
<p><br><br><strong>æ—¶é—´ï¼š2015å¹´12æœˆ23æ—¥</strong></p>
<p><br><br>æœ€è¿‘ iOS9.2 ç³»ç»Ÿæ­£å¼å‘å¸ƒï¼Œæœ‰ååº”è¯´Appä¸­ä½¿ç”¨æŒ‡çº¹è§£é”åœ¨ iOS9.2 ä¸Šä¼šå¯¼è‡´Appå´©æºƒã€‚æ•…ï¼Œå¼€å§‹äº†æŸ¥æ‰¾ bug ä¹‹æ—…ã€‚</p>
<h4 id="u95EE_u98984_uFF1A"><a href="#u95EE_u98984_uFF1A" class="headerlink" title="é—®é¢˜4ï¼š"></a>é—®é¢˜4ï¼š</h4><p>å‡çº§æ‰‹æœº9.2 ç‰ˆæœ¬åï¼Œä½¿ç”¨æŒ‡çº¹è§£é”ï¼Œæœç„¶æ˜¯å´©æºƒäº†ã€‚æ‰‹æŒ‡æ”¾åˆ° home é”®ä¸Šåï¼ŒApp å¡æ­»ï¼Œæ— æ³•ç‚¹å‡»é¡µé¢ä¸Šçš„æ§ä»¶ï¼Œå¤§æ¦‚3ï¼Œ4ç§’åé—ªé€€è‡³æ¡Œé¢ã€‚</p>
<p>ç”±äºæµ‹è¯•æœºéƒ½æ²¡æœ‰å‡çº§ï¼Œæ•…å…ˆçœ‹äº†ç›¸å…³çš„ä»£ç ï¼Œæ³¨æ„åˆ°åœ¨éªŒè¯æŒ‡çº¹æˆåŠŸåï¼Œ                ä½¿ç”¨dispatch_sync(dispatch_get_main_queue(), ^{ }ï¼‰æ¥è°ƒç”¨ä¸»çº¿ç¨‹å¤„ç†ä¸€äº›å·¥ä½œã€‚é‚ï¼ŒçŒœæƒ³åº”è¯¥æ˜¯è¿™é‡Œå‡ºäº†é—®é¢˜ï¼Œä¸€èˆ¬åº”ä½¿ç”¨dispatch_async,è€Œédispatch_syncã€‚ä½†ä¸æ•¢è‚¯å®šï¼Œå› ä¸ºæ— æ³•è§£é‡Šè¿™æ ·å†™å°±ä¼šå´©æºƒï¼Œè€Œä¸”ä¹‹å‰ä¸€ç›´éƒ½æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ã€‚</p>
<font color="brown"><strong>åŸå› ï¼š</strong></font><br>iOS9.2 åšäº†ä¼˜åŒ–ï¼Œä½¿ä½“éªŒæ›´æµç•…ã€‚å¯èƒ½åœ¨dispatch_asyncå’Œdispatch_syncä¸‹äº†åˆ€ã€‚<br><br><font color="green"><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font>

<p>å¾…ç”¨9.2ç³»ç»Ÿçš„çœŸæœºè¿è¡Œæ—¶ï¼ŒåŠä¿¡åŠç–‘çš„æŠŠå…¶æ”¹ç”¨äº†dispatch_asyncï¼Œå¹¶æ²¡æœ‰å´©æºƒã€‚ä½†ä½¿ç”¨dispatch_syncç¡®å®å´©æºƒäº†ã€‚</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><strong>ä½œè€…ï¼šç§‹å„¿ï¼ˆlvruifei@foxmail.comï¼‰</strong></p>
<p>iOS8 æŒ‡çº¹è§£é”çš„APIï¼Œ<a href="http://www.bubuko.com/infodetail-726115.html">è¿™ç¯‡æ–‡ç« </a>è§£é‡Šçš„éå¸¸æ¸…æ¥šã€‚  </p>
<p>æœ¬æ–‡ä¸»è¦é’ˆå¯¹åœ¨å®é™…ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼Œå‡å®šå·²ç»äº†è§£æŒ‡çº¹è§£é”APIï¼Œå¦‚ä¸äº†è§£API,è¯·å…ˆç§»æ­¥<a href="http://www.bubuko.com/infodetail-726115.html">æŒ‡çº¹è§£é”çš„APIè¯´æ˜</a></p>
<p>é¡¹ç›®ä¹‹å‰ä¸€ç›´ä½¿ç”¨çš„æ˜¯æ‰‹åŠ¿å¯†ç ï¼Œè¿‘æ¥è¦å¢åŠ  iOS8 æ–°å‡ºçš„æŒ‡çº¹è§£é”åŠŸèƒ½ã€‚éœ€æ±‚æ˜¯åœ¨è®¾ç½®ä¸­æ·»åŠ æŒ‡çº¹è§£é”å¼€å…³ </p>]]>
    
    </summary>
    
      <category term="æŒ‡çº¹è§£é”" scheme="http://yoursite.com/tags/%E6%8C%87%E7%BA%B9%E8%A7%A3%E9%94%81/"/>
    
      <category term="iOS" scheme="http://yoursite.com/categories/iOS/"/>
    
  </entry>
  
</feed>